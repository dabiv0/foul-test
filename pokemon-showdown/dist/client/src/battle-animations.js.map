{
  "version": 3,
  "sources": ["../../../client/src/battle-animations.ts"],
  "sourcesContent": ["/**\r\n * Pokemon Showdown Battle Animations\r\n *\r\n * There are the specific resource files and scripts for misc animations\r\n *\r\n * Licensing note: PS's client has complicated licensing:\r\n * - The client as a whole is AGPLv3\r\n * - The battle replay/animation engine (battle-*.ts) by itself is MIT\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\n\r\nimport type { Battle, Pokemon, Side, WeatherState } from './battle';\r\nimport type { BattleSceneStub } from './battle-scene-stub';\r\nimport { BattleMoveAnims } from './battle-animations-moves';\r\nimport { BattleLog } from './battle-log';\r\nimport { type BattleBGM, BattleSound } from './battle-sound';\r\nimport { Dex, toID, type ID, type SpriteData } from './battle-dex';\r\nimport { BattleNatures } from './battle-dex-data';\r\nimport { BattleTooltips } from './battle-tooltips';\r\nimport { BattleTextParser, type Args, type KWArgs } from './battle-text-parser';\r\n\r\n/*\r\n\r\nMost of this file is: CC0 (public domain)\r\n  <http://creativecommons.org/publicdomain/zero/1.0/>\r\n\r\nThis license DOES extend to all images in the fx/ folder, with the exception of icicle.png, lightning.png, and bone.png.\r\n\r\nicicle.png and lightning.png by Clint Bellanger are triple-licensed GPLv2/GPLv3/CC-BY-SA-3.0.\r\n  <http://opengameart.org/content/icicle-spell>\r\n  <http://opengameart.org/content/lightning-shock-spell>\r\n\r\nrocks.png, rock1.png, rock2.png by PO user \"Gilad\" is licensed GPLv3.\r\n\r\nThis license DOES NOT extend to any images in the sprites/ folder.\r\n\r\nThis license DOES NOT extend to any other files in this repository.\r\n\r\n*/\r\n\r\nexport class BattleScene implements BattleSceneStub {\r\n\tbattle: Battle;\r\n\tanimating = true;\r\n\tacceleration = 1;\r\n\r\n\t/** Note: Not the actual generation of the battle, but the gen of the sprites/background */\r\n\tgen = 7;\r\n\tmod = '';\r\n\t/** 1 = singles, 2 = doubles, 3 = triples */\r\n\tactiveCount = 1;\r\n\r\n\tnumericId = 0;\r\n\t$frame: JQuery;\r\n\t$battle: JQuery = null!;\r\n\t$options: JQuery = null!;\r\n\tlog: BattleLog;\r\n\t$terrain: JQuery = null!;\r\n\t$weather: JQuery = null!;\r\n\t$bgEffect: JQuery = null!;\r\n\t$bg: JQuery = null!;\r\n\t$sprite: JQuery = null!;\r\n\t$sprites: [JQuery, JQuery] = [null!, null!];\r\n\t$spritesFront: [JQuery, JQuery] = [null!, null!];\r\n\t$stat: JQuery = null!;\r\n\t$fx: JQuery = null!;\r\n\t$leftbar: JQuery = null!;\r\n\t$rightbar: JQuery = null!;\r\n\t$turn: JQuery = null!;\r\n\t$messagebar: JQuery = null!;\r\n\t$delay: JQuery = null!;\r\n\t$hiddenMessage: JQuery = null!;\r\n\t$tooltips: JQuery = null!;\r\n\ttooltips: BattleTooltips;\r\n\r\n\tsideConditions: [{ [id: string]: Sprite[] }, { [id: string]: Sprite[] }] = [{}, {}];\r\n\r\n\tpreloadDone = 0;\r\n\tpreloadNeeded = 0;\r\n\tbgm: BattleBGM | null = null;\r\n\tbackdropImage = '';\r\n\tbgmNum = 0;\r\n\tpreloadCache: { [url: string]: HTMLImageElement } = {};\r\n\r\n\tmessagebarOpen = false;\r\n\tcustomControls = false;\r\n\tinterruptionCount = 1;\r\n\tcurWeather = '';\r\n\tcurTerrain = '';\r\n\r\n\t// Animation state\r\n\t////////////////////////////////////\r\n\r\n\ttimeOffset = 0;\r\n\tpokemonTimeOffset = 0;\r\n\tminDelay = 0;\r\n\t/** jQuery objects that need to finish animating */\r\n\tactiveAnimations = $();\r\n\r\n\tconstructor(battle: Battle, $frame: JQuery, $logFrame: JQuery) {\r\n\t\tthis.battle = battle;\r\n\r\n\t\t$frame.addClass('battle');\r\n\t\tthis.$frame = $frame;\r\n\t\tthis.log = new BattleLog($logFrame[0] as HTMLDivElement, this);\r\n\t\tthis.log.battleParser!.pokemonName = (pokemonId: string) => {\r\n\t\t\tif (!pokemonId) return '';\r\n\t\t\tif (battle.ignoreNicks || battle.ignoreOpponent) {\r\n\t\t\t\tconst pokemon = battle.getPokemon(pokemonId);\r\n\t\t\t\tif (pokemon) return pokemon.speciesForme;\r\n\t\t\t}\r\n\t\t\tif (!pokemonId.startsWith('p')) return '???pokemon:' + pokemonId + '???';\r\n\t\t\tif (pokemonId.charAt(3) === ':') return BattleTextParser.escapeReplace(pokemonId.slice(4).trim());\r\n\t\t\telse if (pokemonId.charAt(2) === ':') return BattleTextParser.escapeReplace(pokemonId.slice(3).trim());\r\n\t\t\treturn '???pokemon:' + pokemonId + '???';\r\n\t\t};\r\n\r\n\t\tlet numericId = 0;\r\n\t\tif (battle.id) {\r\n\t\t\tnumericId = parseInt(battle.id.slice(battle.id.lastIndexOf('-') + 1), 10);\r\n\t\t\tif (this.battle.id.includes('digimon')) this.mod = 'digimon';\r\n\t\t}\r\n\t\tif (!numericId) {\r\n\t\t\tnumericId = Math.floor(Math.random() * 1000000);\r\n\t\t}\r\n\t\tthis.numericId = numericId;\r\n\t\tthis.tooltips = new BattleTooltips(battle);\r\n\t\tthis.tooltips.listen($frame[0]);\r\n\r\n\t\tthis.preloadEffects();\r\n\t\t// reset() is called during battle initialization, so it doesn't need to be called here\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.updateGen();\r\n\r\n\t\t// Log frame\r\n\t\t/////////////\r\n\r\n\t\tif (this.$options) {\r\n\t\t\tthis.log.reset();\r\n\t\t} else {\r\n\t\t\tthis.$options = $('<div class=\"battle-options\"></div>');\r\n\t\t\t$(this.log.elem).prepend(this.$options);\r\n\t\t}\r\n\r\n\t\t// Battle frame\r\n\t\t///////////////\r\n\r\n\t\tthis.$frame.empty();\r\n\t\tthis.$battle = $('<div class=\"innerbattle\"></div>');\r\n\t\tthis.$frame.append(this.$battle);\r\n\r\n\t\tthis.$bg = $('<div class=\"backdrop\" style=\"background-image:url(' + Dex.resourcePrefix + this.backdropImage + ');display:block;opacity:0.8\"></div>');\r\n\t\tthis.$terrain = $('<div class=\"weather\"></div>');\r\n\t\tthis.$weather = $('<div class=\"weather\"></div>');\r\n\t\tthis.$bgEffect = $('<div></div>');\r\n\t\tthis.$sprite = $('<div></div>');\r\n\r\n\t\tthis.$sprites = [$('<div></div>'), $('<div></div>')];\r\n\t\tthis.$spritesFront = [$('<div></div>'), $('<div></div>')];\r\n\t\tthis.sideConditions = [{}, {}];\r\n\r\n\t\tthis.$sprite.append(this.$sprites[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[0]);\r\n\t\tthis.$sprite.append(this.$sprites[0]);\r\n\r\n\t\tthis.$stat = $('<div role=\"complementary\" aria-label=\"Active Pokemon\"></div>');\r\n\t\tthis.$fx = $('<div></div>');\r\n\t\tthis.$leftbar = $('<div class=\"leftbar\" role=\"complementary\" aria-label=\"Your Team\"></div>');\r\n\t\tthis.$rightbar = $('<div class=\"rightbar\" role=\"complementary\" aria-label=\"Opponent\\'s Team\"></div>');\r\n\t\tthis.$turn = $('<div></div>');\r\n\t\tthis.$messagebar = $('<div class=\"messagebar message\"></div>');\r\n\t\tthis.$delay = $('<div></div>');\r\n\t\tthis.$hiddenMessage = $('<div class=\"message\" style=\"position:absolute;display:block;visibility:hidden\"></div>');\r\n\t\tthis.$tooltips = $('<div class=\"tooltips\"></div>');\r\n\r\n\t\tthis.$battle.append(this.$bg);\r\n\t\tthis.$battle.append(this.$terrain);\r\n\t\tthis.$battle.append(this.$weather);\r\n\t\tthis.$battle.append(this.$bgEffect);\r\n\t\tthis.$battle.append(this.$sprite);\r\n\t\tthis.$battle.append(this.$stat);\r\n\t\tthis.$battle.append(this.$fx);\r\n\t\tthis.$battle.append(this.$leftbar);\r\n\t\tthis.$battle.append(this.$rightbar);\r\n\t\tthis.$battle.append(this.$turn);\r\n\t\tthis.$battle.append(this.$messagebar);\r\n\t\tthis.$battle.append(this.$delay);\r\n\t\tthis.$battle.append(this.$hiddenMessage);\r\n\t\tthis.$battle.append(this.$tooltips);\r\n\r\n\t\tif (!this.animating) {\r\n\t\t\tthis.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>');\r\n\t\t}\r\n\r\n\t\tthis.messagebarOpen = false;\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.pokemonTimeOffset = 0;\r\n\t\tthis.curTerrain = '';\r\n\t\tthis.curWeather = '';\r\n\r\n\t\tthis.log.battleParser!.perspective = this.battle.mySide.sideid;\r\n\r\n\t\tthis.resetSides(true);\r\n\t}\r\n\r\n\tanimationOff() {\r\n\t\tthis.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>');\r\n\t\tthis.$frame.find('div.playbutton').remove();\r\n\t\tthis.stopAnimation();\r\n\r\n\t\tthis.animating = false;\r\n\t\tthis.$messagebar.empty().css({\r\n\t\t\topacity: 0,\r\n\t\t\theight: 0,\r\n\t\t});\r\n\t}\r\n\tstopAnimation() {\r\n\t\tthis.interruptionCount++;\r\n\t\tthis.$battle.find(':animated').finish();\r\n\t\tthis.$fx.empty();\r\n\t}\r\n\tanimationOn() {\r\n\t\tif (this.animating) return;\r\n\t\t$.fx.off = false;\r\n\t\tthis.animating = true;\r\n\t\tthis.$battle.find('.seeking').remove();\r\n\t\tthis.updateSidebars();\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tfor (const pokemon of side.pokemon) {\r\n\t\t\t\tpokemon.sprite.reset(pokemon);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.updateWeather(true);\r\n\t\tthis.resetTurn();\r\n\t\tthis.resetSideConditions();\r\n\t}\r\n\tpause() {\r\n\t\tthis.stopAnimation();\r\n\t\tthis.updateBgm();\r\n\t\tif (!this.battle.started) {\r\n\t\t\tthis.$frame.append('<div class=\"playbutton\"><button name=\"play\" class=\"button\"><i class=\"fa fa-play\" aria-hidden=\"true\"></i> Play</button><br /><br /><button name=\"play-muted\" class=\"startsoundchooser button\" style=\"font-size:10pt\">Play (sound off)</button></div>');\r\n\t\t\tthis.$frame.find('div.playbutton button[name=play-muted]').click(() => {\r\n\t\t\t\tthis.setMute(true);\r\n\t\t\t\tthis.battle.play();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.$frame.find('div.playbutton button[name=play]').click(() => this.battle.play());\r\n\t}\r\n\tresume() {\r\n\t\tthis.$frame.find('div.playbutton').remove();\r\n\t\tthis.updateBgm();\r\n\t}\r\n\tsetMute(muted: boolean) {\r\n\t\tBattleSound.setMute(muted);\r\n\t}\r\n\twait(time: number) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.timeOffset += time;\r\n\t}\r\n\r\n\t// Sprite handling\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\taddSprite(sprite: PokemonSprite) {\r\n\t\tif (sprite.$el) this.$sprites[+sprite.isFrontSprite].append(sprite.$el);\r\n\t}\r\n\tshowEffect(\r\n\t\teffect: string | SpriteData, start: ScenePos, end: ScenePos,\r\n\t\ttransition: string, after?: string, additionalCss?: JQuery.PlainObject\r\n\t) {\r\n\t\tif (typeof effect === 'string') effect = BattleEffects[effect];\r\n\t\tif (!start.time) start.time = 0;\r\n\t\tif (!end.time) end.time = start.time + 500;\r\n\t\tstart.time += this.timeOffset;\r\n\t\tend.time += this.timeOffset;\r\n\t\tif (!end.scale && end.scale !== 0 && start.scale) end.scale = start.scale;\r\n\t\tif (!end.xscale && end.xscale !== 0 && start.xscale) end.xscale = start.xscale;\r\n\t\tif (!end.yscale && end.yscale !== 0 && start.yscale) end.yscale = start.yscale;\r\n\t\tend = { ...start, ...end };\r\n\r\n\t\tlet startpos = this.pos(start, effect);\r\n\t\tlet endpos = this.posT(end, effect, transition, start);\r\n\r\n\t\tlet $effect = $(`<img src=\"${effect.url!}\" style=\"display:block;position:absolute\" />`);\r\n\t\tthis.$fx.append($effect);\r\n\t\tif (additionalCss) $effect.css(additionalCss);\r\n\t\t$effect = this.$fx.children().last();\r\n\r\n\t\tif (start.time) {\r\n\t\t\t$effect.css({ ...startpos, opacity: 0 });\r\n\t\t\t$effect.delay(start.time).animate({\r\n\t\t\t\topacity: startpos.opacity,\r\n\t\t\t}, 1);\r\n\t\t} else {\r\n\t\t\t$effect.css(startpos);\r\n\t\t}\r\n\t\t$effect.animate(endpos, end.time! - start.time);\r\n\t\tif (after === 'fade') {\r\n\t\t\t$effect.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t\tif (after === 'explode') {\r\n\t\t\tif (end.scale) end.scale *= 3;\r\n\t\t\tif (end.xscale) end.xscale *= 3;\r\n\t\t\tif (end.yscale) end.yscale *= 3;\r\n\t\t\tend.opacity = 0;\r\n\t\t\tlet endendpos = this.pos(end, effect);\r\n\t\t\t$effect.animate(endendpos, 200);\r\n\t\t}\r\n\t\tthis.waitFor($effect);\r\n\t}\r\n\tbackgroundEffect(bg: string, duration: number, opacity = 1, delay = 0) {\r\n\t\tlet $effect = $('<div class=\"background\"></div>');\r\n\t\t$effect.css({\r\n\t\t\tbackground: bg,\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$bgEffect.append($effect);\r\n\t\t$effect.delay(delay).animate({\r\n\t\t\topacity,\r\n\t\t}, 250).delay(duration - 250);\r\n\t\t$effect.animate({\r\n\t\t\topacity: 0,\r\n\t\t}, 250);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a PS location (x, y, z, scale, xscale, yscale, opacity)\r\n\t * to a jQuery position (top, left, width, height, opacity) suitable\r\n\t * for passing into `jQuery#css` or `jQuery#animate`.\r\n\t * The display property is passed through if it exists.\r\n\t */\r\n\tpos(loc: ScenePos, obj: SpriteData) {\r\n\t\tloc = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\t...loc,\r\n\t\t};\r\n\t\tif (!loc.xscale && loc.xscale !== 0) loc.xscale = loc.scale;\r\n\t\tif (!loc.yscale && loc.yscale !== 0) loc.yscale = loc.scale;\r\n\r\n\t\tlet left = 210;\r\n\t\tlet top = 245;\r\n\t\tlet scale = (obj.gen === 5 ?\r\n\t\t\t2.0 - ((loc.z!) / 200) :\r\n\t\t\t1.5 - 0.5 * ((loc.z!) / 200));\r\n\t\tif (scale < 0.1) scale = 0.1;\r\n\r\n\t\tleft += (410 - 190) * ((loc.z!) / 200);\r\n\t\ttop += (135 - 245) * ((loc.z!) / 200);\r\n\t\tleft += Math.floor(loc.x! * scale);\r\n\t\ttop -= Math.floor(loc.y! * scale /* - loc.x * scale / 4 */);\r\n\t\tlet width = Math.floor(obj.w * scale * loc.xscale!);\r\n\t\tlet height = Math.floor(obj.h * scale * loc.yscale!);\r\n\t\tlet hoffset = Math.floor((obj.h - (obj.y || 0) * 2) * scale * loc.yscale!);\r\n\t\tleft -= Math.floor(width / 2);\r\n\t\ttop -= Math.floor(hoffset / 2);\r\n\r\n\t\tlet pos: JQuery.PlainObject = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\topacity: loc.opacity,\r\n\t\t};\r\n\t\tif (loc.display) pos.display = loc.display;\r\n\t\treturn pos;\r\n\t}\r\n\t/**\r\n\t * Converts a PS location to a jQuery transition map (see `pos`)\r\n\t * suitable for passing into `jQuery#animate`.\r\n\t * oldLoc is required for ballistic (jumping) animations.\r\n\t */\r\n\tposT(loc: ScenePos, obj: SpriteData, transition?: string, oldLoc?: ScenePos): JQuery.PlainObject {\r\n\t\tconst pos = this.pos(loc, obj);\r\n\t\tconst oldPos = (oldLoc ? this.pos(oldLoc, obj) : null);\r\n\t\tlet transitionMap = {\r\n\t\t\tleft: 'linear',\r\n\t\t\ttop: 'linear',\r\n\t\t\twidth: 'linear',\r\n\t\t\theight: 'linear',\r\n\t\t\topacity: 'linear',\r\n\t\t};\r\n\t\tif (transition === 'ballistic') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'ballisticUp' : 'ballisticDown');\r\n\t\t}\r\n\t\tif (transition === 'ballisticUnder') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'ballisticDown' : 'ballisticUp');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'quadUp' : 'quadDown');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2Back') {\r\n\t\t\t// This _should_ be the same as ballistic2.\r\n\t\t\t// Unfortunately, oldLoc is the original loc, rather than the\r\n\t\t\t// previous loc, so when you're \"going back\", loc === oldLoc, and\r\n\t\t\t// the direction has to instead be inferred from the destination.\r\n\t\t\ttransitionMap.top = (loc.z! > 0 ? 'quadUp' : 'quadDown');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2Under') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'quadDown' : 'quadUp');\r\n\t\t}\r\n\t\tif (transition === 'swing') {\r\n\t\t\ttransitionMap.left = 'swing';\r\n\t\t\ttransitionMap.top = 'swing';\r\n\t\t\ttransitionMap.width = 'swing';\r\n\t\t\ttransitionMap.height = 'swing';\r\n\t\t}\r\n\t\tif (transition === 'accel') {\r\n\t\t\ttransitionMap.left = 'quadDown';\r\n\t\t\ttransitionMap.top = 'quadDown';\r\n\t\t\ttransitionMap.width = 'quadDown';\r\n\t\t\ttransitionMap.height = 'quadDown';\r\n\t\t}\r\n\t\tif (transition === 'decel') {\r\n\t\t\ttransitionMap.left = 'quadUp';\r\n\t\t\ttransitionMap.top = 'quadUp';\r\n\t\t\ttransitionMap.width = 'quadUp';\r\n\t\t\ttransitionMap.height = 'quadUp';\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft: [pos.left, transitionMap.left],\r\n\t\t\ttop: [pos.top, transitionMap.top],\r\n\t\t\twidth: [pos.width, transitionMap.width],\r\n\t\t\theight: [pos.height, transitionMap.height],\r\n\t\t\topacity: [pos.opacity, transitionMap.opacity],\r\n\t\t};\r\n\t}\r\n\r\n\twaitFor(elem: JQuery) {\r\n\t\tthis.activeAnimations = this.activeAnimations.add(elem);\r\n\t}\r\n\r\n\tstartAnimations() {\r\n\t\tthis.$fx.empty();\r\n\t\tthis.activeAnimations = $();\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.minDelay = 0;\r\n\t}\r\n\r\n\tfinishAnimations() {\r\n\t\tif (this.minDelay || this.timeOffset) {\r\n\t\t\tthis.$delay.delay(Math.max(this.minDelay, this.timeOffset));\r\n\t\t\tthis.activeAnimations = this.activeAnimations.add(this.$delay);\r\n\t\t}\r\n\t\tif (!this.activeAnimations.length) return undefined;\r\n\t\treturn this.activeAnimations.promise();\r\n\t}\r\n\r\n\t// Messagebar and log\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tpreemptCatchup() {\r\n\t\tthis.log.preemptCatchup();\r\n\t}\r\n\tmessage(message: string) {\r\n\t\tif (!this.messagebarOpen) {\r\n\t\t\tthis.log.addSpacer();\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.empty();\r\n\t\t\t\tthis.$messagebar.css({\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t});\r\n\t\t\t\tthis.$messagebar.animate({\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.battle.hardcoreMode && message.startsWith('<small>(')) {\r\n\t\t\tmessage = '';\r\n\t\t}\r\n\t\tif (message && this.animating) {\r\n\t\t\tthis.$hiddenMessage.append('<p></p>');\r\n\t\t\tlet $message = this.$hiddenMessage.children().last();\r\n\t\t\t$message.html(message);\r\n\t\t\t$message.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\topacity: 0,\r\n\t\t\t});\r\n\t\t\t$message.animate({\r\n\t\t\t\theight: 'hide',\r\n\t\t\t}, 1, () => {\r\n\t\t\t\t$message.appendTo(this.$messagebar);\r\n\t\t\t\t$message.animate({\r\n\t\t\t\t\theight: 'show',\r\n\t\t\t\t\t'padding-bottom': 4,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t});\r\n\t\t\tthis.waitFor($message);\r\n\t\t}\r\n\t\tthis.messagebarOpen = true;\r\n\t}\r\n\tmaybeCloseMessagebar(args: Args, kwArgs: KWArgs) {\r\n\t\tif (this.log.battleParser!.sectionBreak(args, kwArgs)) {\r\n\t\t\tif (!this.messagebarOpen) return false;\r\n\t\t\tthis.closeMessagebar();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tcloseMessagebar() {\r\n\t\tif (this.messagebarOpen) {\r\n\t\t\tthis.messagebarOpen = false;\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.delay(this.battle.messageShownTime / this.acceleration).animate({\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t\tthis.waitFor(this.$messagebar);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// General updating\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\trunMoveAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet animEntry = BattleMoveAnims[moveid];\r\n\t\tif (this.acceleration >= 3) {\r\n\t\t\tconst targetsSelf = !participants[1] || participants[0] === participants[1];\r\n\t\t\tconst isSpecial = !targetsSelf && this.battle.dex.moves.get(moveid).category === 'Special';\r\n\t\t\tanimEntry = BattleOtherAnims[targetsSelf ? 'fastanimself' : isSpecial ? 'fastanimspecial' : 'fastanimattack'];\r\n\t\t} else if (!animEntry) {\r\n\t\t\tanimEntry = BattleMoveAnims['tackle'];\r\n\t\t}\r\n\t\tanimEntry.anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunOtherAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleOtherAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunStatusAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleStatusAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunResidualAnim(moveid: ID, pokemon: Pokemon) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleMoveAnims[moveid].residualAnim!(this, [pokemon.sprite]);\r\n\t}\r\n\r\n\trunPrepareAnim(moveid: ID, attacker: Pokemon, defender: Pokemon) {\r\n\t\tif (!this.animating || this.acceleration >= 3) return;\r\n\t\tconst moveAnim = BattleMoveAnims[moveid];\r\n\t\tif (!moveAnim.prepareAnim) return;\r\n\t\tmoveAnim.prepareAnim(this, [attacker.sprite, defender.sprite]);\r\n\t}\r\n\r\n\tupdateGen() {\r\n\t\tlet gen = this.battle.gen;\r\n\t\tif (Dex.prefs('nopastgens')) gen = 6;\r\n\t\tif (Dex.prefs('bwgfx') && gen > 5) gen = 5;\r\n\t\tthis.gen = gen;\r\n\t\tthis.activeCount = this.battle.nearSide?.active.length || 1;\r\n\r\n\t\tconst rated = this.battle.rated;\r\n\t\tlet bg: string;\r\n\t\tif (typeof rated === 'string' && rated.startsWith(\"Smogon Premier League\")) {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1-spl.png';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2-spl.png';\r\n\t\t\telse if (gen <= 3) bg = 'fx/bg-gen3-spl.png';\r\n\t\t\telse if (gen <= 4) bg = 'fx/bg-gen4-spl.png';\r\n\t\t\telse bg = 'fx/bg-spl.png';\r\n\t\t\tthis.setBgm(-101);\r\n\t\t} else if (typeof rated === 'string' && rated.startsWith('National Pokemon Association')) {\r\n\t\t\tbg = 'fx/bg-npa.png';\r\n\t\t\tthis.setBgm(-101);\r\n\t\t} else {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1.png?';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2.png?';\r\n\t\t\telse if (gen <= 3) bg = `fx/${BattleBackdropsThree[this.numericId % BattleBackdropsThree.length]}?`;\r\n\t\t\telse if (gen <= 4) bg = `fx/${BattleBackdropsFour[this.numericId % BattleBackdropsFour.length]}`;\r\n\t\t\telse if (gen <= 5) bg = `fx/${BattleBackdropsFive[this.numericId % BattleBackdropsFive.length]}`;\r\n\t\t\telse bg = `sprites/gen6bgs/${BattleBackdrops[this.numericId % BattleBackdrops.length]}`;\r\n\t\t}\r\n\r\n\t\tthis.backdropImage = bg;\r\n\t\tif (this.$bg) {\r\n\t\t\tthis.$bg.css('background-image', `url(${Dex.resourcePrefix}${this.backdropImage})`);\r\n\t\t}\r\n\t}\r\n\r\n\tgetDetailsText(pokemon: Pokemon) {\r\n\t\tlet name = pokemon.side?.isFar &&\r\n\t\t\t(this.battle.ignoreOpponent || this.battle.ignoreNicks) ? pokemon.speciesForme : pokemon.name;\r\n\t\tif (name !== pokemon.speciesForme) {\r\n\t\t\tname += ' (' + pokemon.speciesForme + ')';\r\n\t\t}\r\n\t\tif (pokemon === pokemon.side.active[0]) {\r\n\t\t\tname += ' (active)';\r\n\t\t} else if (pokemon.fainted) {\r\n\t\t\tname += ' (fainted)';\r\n\t\t} else {\r\n\t\t\tlet statustext = '';\r\n\t\t\tif (pokemon.hp !== pokemon.maxhp) {\r\n\t\t\t\tstatustext += pokemon.getHPText();\r\n\t\t\t}\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\tif (statustext) statustext += '|';\r\n\t\t\t\tstatustext += pokemon.status;\r\n\t\t\t}\r\n\t\t\tif (statustext) {\r\n\t\t\t\tname += ' (' + statustext + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn BattleLog.escapeHTML(name);\r\n\t}\r\n\tgetSidebarHTML(side: Side, posStr: string): string {\r\n\t\tlet noShow = this.battle.hardcoreMode && this.battle.gen < 7;\r\n\r\n\t\tlet speciesOverage = this.battle.speciesClause ? Infinity : Math.max(side.pokemon.length - side.totalPokemon, 0);\r\n\t\tconst sidebarIcons: (\r\n\t\t\t['pokemon' | 'pokemon-illusion', number] | ['unrevealed' | 'empty' | 'pseudo-zoroark', null]\r\n\t\t)[] = [];\r\n\t\tconst speciesTable: string[] = [];\r\n\t\tlet zoroarkRevealed = false;\r\n\t\tlet hasIllusion = false;\r\n\t\tif (speciesOverage) {\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tconst species = side.pokemon[i].getBaseSpecies().baseSpecies;\r\n\t\t\t\tif (speciesOverage && speciesTable.includes(species)) {\r\n\t\t\t\t\tfor (const sidebarIcon of sidebarIcons) {\r\n\t\t\t\t\t\tif (side.pokemon[sidebarIcon[1]!].getBaseSpecies().baseSpecies === species) {\r\n\t\t\t\t\t\t\tsidebarIcon[0] = 'pokemon-illusion';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\thasIllusion = true;\r\n\t\t\t\t\tspeciesOverage--;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsidebarIcons.push(['pokemon', i]);\r\n\t\t\t\t\tspeciesTable.push(species);\r\n\t\t\t\t\tif (['Zoroark', 'Zorua'].includes(species)) {\r\n\t\t\t\t\t\tzoroarkRevealed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tsidebarIcons.push(['pokemon', i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!zoroarkRevealed && hasIllusion && sidebarIcons.length < side.totalPokemon) {\r\n\t\t\tsidebarIcons.push(['pseudo-zoroark', null]);\r\n\t\t}\r\n\t\twhile (sidebarIcons.length < side.totalPokemon) {\r\n\t\t\tsidebarIcons.push(['unrevealed', null]);\r\n\t\t}\r\n\t\twhile (sidebarIcons.length < 6) {\r\n\t\t\tsidebarIcons.push(['empty', null]);\r\n\t\t}\r\n\r\n\t\tlet pokemonhtml = '';\r\n\t\tfor (let i = 0; i < sidebarIcons.length; i++) {\r\n\t\t\tconst [iconType, pokeIndex] = sidebarIcons[i];\r\n\t\t\tconst poke = pokeIndex !== null ? side.pokemon[pokeIndex] : null;\r\n\t\t\tconst tooltipCode = ` class=\"picon has-tooltip\" data-tooltip=\"pokemon|${side.n}|${pokeIndex!}${iconType === 'pokemon-illusion' ? '|illusion' : ''}\"`;\r\n\t\t\tif (iconType === 'empty') {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"${Dex.getPokemonIcon('pokeball-none')}\"></span>`;\r\n\t\t\t} else if (noShow) {\r\n\t\t\t\tif (poke?.fainted) {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon('pokeball-fainted')}\" aria-label=\"Fainted\"></span>`;\r\n\t\t\t\t} else if (poke?.status) {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon('pokeball-statused')}\" aria-label=\"Statused\"></span>`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon('pokeball')}\" aria-label=\"Non-statused\"></span>`;\r\n\t\t\t\t}\r\n\t\t\t} else if (iconType === 'pseudo-zoroark') {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"${Dex.getPokemonIcon('zoroark')}\" title=\"Unrevealed Illusion user\" aria-label=\"Unrevealed Illusion user\"></span>`;\r\n\t\t\t} else if (!poke) {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"${Dex.getPokemonIcon('pokeball')}\" title=\"Not revealed\" aria-label=\"Not revealed\"></span>`;\r\n\t\t\t} else if (!poke.ident && this.battle.teamPreviewCount && this.battle.teamPreviewCount < side.pokemon.length) {\r\n\t\t\t\t// in VGC (bring 6 pick 4) and other pick-less-than-you-bring formats, this is\r\n\t\t\t\t// a pokemon that's been brought but not necessarily picked\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon(poke, !side.isFar)};opacity:0.6\" aria-label=\"${details}\"></span>`;\r\n\t\t\t} else {\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"${Dex.getPokemonIcon(poke, !side.isFar)}\" aria-label=\"${details}\"></span>`;\r\n\t\t\t}\r\n\t\t\tif (i % 3 === 2) pokemonhtml += `</div><div class=\"teamicons\">`;\r\n\t\t}\r\n\t\tpokemonhtml = '<div class=\"teamicons\">' + pokemonhtml + '</div>';\r\n\t\tconst ratinghtml = side.rating ? ` title=\"Rating: ${BattleLog.escapeHTML(side.rating)}\"` : ``;\r\n\t\tconst faded = side.name ? `` : ` style=\"opacity: 0.4\"`;\r\n\t\tlet badgehtml = '';\r\n\t\tif (side.badges.length) {\r\n\t\t\tbadgehtml = '<span class=\"badges\">';\r\n\t\t\t// hard limiting it to only ever 3 allowed at a time\r\n\t\t\t// that's what the server limit is anyway but there should be a client limit too\r\n\t\t\t// just in case\r\n\t\t\tfor (const badgeData of side.badges.slice(0, 3)) {\r\n\t\t\t\t// ${badge.type}|${badge.format}|${BADGE_THRESHOLDS[badge.type]}-${badge.season}\r\n\t\t\t\tconst [type, format, details] = badgeData.split('|');\r\n\t\t\t\t// todo, maybe make this more easily configured if we ever add badges for other stuff?\r\n\t\t\t\t// but idk that we're planning that for now so\r\n\t\t\t\tconst [threshold] = details.split('-');\r\n\t\t\t\tconst hover = `User is Top ${threshold} on the ${format} Ladder`;\r\n\t\t\t\t// ou and randbats get diff badges from everyone else, find it\r\n\t\t\t\t// (regex futureproofs for double digit gens)\r\n\t\t\t\tlet formatType = format.split(/gen\\d+/)[1] || 'none';\r\n\t\t\t\tif (!['ou', 'randombattle'].includes(formatType)) {\r\n\t\t\t\t\tformatType = 'rotating';\r\n\t\t\t\t}\r\n\t\t\t\tbadgehtml += `<img src=\"${Dex.resourcePrefix}/sprites/misc/${formatType}_${type}.png\" style=\"padding: 0px 1px 0px 1px\" width=\"16px\" height=\"16px\" title=\"${hover}\" />`;\r\n\t\t\t}\r\n\t\t\tbadgehtml += '</span>';\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t`<div class=\"trainer trainer-${posStr}\"${faded}><strong>${BattleLog.escapeHTML(side.name)}</strong>` +\r\n\t\t\t`<div class=\"trainersprite\"${ratinghtml} style=\"background-image:url(${Dex.resolveAvatar(side.avatar)})\">` +\r\n\t\t\t`</div>${badgehtml}${pokemonhtml}</div>`\r\n\t\t);\r\n\t}\r\n\tupdateSidebar(side: Side) {\r\n\t\tif (this.battle.gameType === 'freeforall') {\r\n\t\t\tthis.updateLeftSidebar();\r\n\t\t\tthis.updateRightSidebar();\r\n\t\t} else if (side === this.battle.nearSide || side === this.battle.nearSide.ally) {\r\n\t\t\tthis.updateLeftSidebar();\r\n\t\t} else {\r\n\t\t\tthis.updateRightSidebar();\r\n\t\t}\r\n\t}\r\n\tupdateLeftSidebar() {\r\n\t\tconst side = this.battle.nearSide;\r\n\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally;\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side, 'near2') + this.getSidebarHTML(side2, 'near'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side2, 'near2') + this.getSidebarHTML(side, 'near'));\r\n\t\t} else {\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side, 'near'));\r\n\t\t}\r\n\t}\r\n\tupdateRightSidebar() {\r\n\t\tconst side = this.battle.farSide;\r\n\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally;\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side, 'far2') + this.getSidebarHTML(side2, 'far'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side2, 'far2') + this.getSidebarHTML(side, 'far'));\r\n\t\t} else {\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side, 'far'));\r\n\t\t}\r\n\t}\r\n\tupdateSidebars() {\r\n\t\tthis.updateLeftSidebar();\r\n\t\tthis.updateRightSidebar();\r\n\t}\r\n\tupdateStatbars() {\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tfor (const active of side.active) {\r\n\t\t\t\tif (active) active.sprite.updateStatbar(active);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tresetSides(skipEmpty?: boolean) {\r\n\t\tif (!skipEmpty) {\r\n\t\t\tfor (const $spritesContainer of this.$sprites) {\r\n\t\t\t\t$spritesContainer.empty();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tside.z = (side.isFar ? 200 : 0);\r\n\t\t\tside.missedPokemon?.sprite?.destroy();\r\n\r\n\t\t\tside.missedPokemon = {\r\n\t\t\t\tsprite: new PokemonSprite(null, {\r\n\t\t\t\t\tx: side.leftof(this.battle.gameType === 'freeforall' ? -50 : -100),\r\n\t\t\t\t\ty: side.y,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t}, this, side.isFar),\r\n\t\t\t} as any;\r\n\r\n\t\t\tside.missedPokemon.sprite.isMissedPokemon = true;\r\n\t\t}\r\n\t\tif (this.battle.sides.length > 2 && this.sideConditions.length === 2) {\r\n\t\t\tthis.sideConditions.push({}, {});\r\n\t\t}\r\n\t\tthis.rebuildTooltips();\r\n\t}\r\n\trebuildTooltips() {\r\n\t\tlet tooltipBuf = '';\r\n\t\tconst tooltips = this.battle.gameType === 'freeforall' ? {\r\n\t\t\t// FFA battles are visually rendered as triple battle with the center slots empty\r\n\t\t\t// so we swap the 2nd and 3rd tooltips on each side\r\n\t\t\tp2b: { top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|1' },\r\n\t\t\tp2a: { top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0' },\r\n\t\t\tp1a: { top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0' },\r\n\t\t\tp1b: { top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|1' },\r\n\t\t} : {\r\n\t\t\tp2c: { top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|2' },\r\n\t\t\tp2b: { top: 85, left: 320, width: 90, height: 100, tooltip: 'activepokemon|1|1' },\r\n\t\t\tp2a: { top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0' },\r\n\t\t\tp1a: { top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0' },\r\n\t\t\tp1b: { top: 200, left: 250, width: 150, height: 160, tooltip: 'activepokemon|0|1' },\r\n\t\t\tp1c: { top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|2' },\r\n\t\t};\r\n\t\tfor (const id in tooltips) {\r\n\t\t\tlet layout = tooltips[id as 'p1a'];\r\n\t\t\ttooltipBuf += `<div class=\"has-tooltip\" style=\"position:absolute;`;\r\n\t\t\ttooltipBuf += `top:${layout.top}px;left:${layout.left}px;width:${layout.width}px;height:${layout.height}px;`;\r\n\t\t\ttooltipBuf += `\" data-id=\"${id}\" data-tooltip=\"${layout.tooltip}\" data-ownheight=\"1\"></div>`;\r\n\t\t}\r\n\t\tthis.$tooltips.html(tooltipBuf);\r\n\t}\r\n\r\n\tteamPreview() {\r\n\t\tlet newBGNum = 0;\r\n\t\tfor (let siden = 0; siden < 2 || (this.battle.gameType === 'multi' && siden < 4); siden++) {\r\n\t\t\tlet side = this.battle.sides[siden];\r\n\t\t\tconst spriteIndex = +this.battle.viewpointSwitched ^ (siden % 2);\r\n\t\t\tlet textBuf = '';\r\n\t\t\tlet buf = '';\r\n\t\t\tlet buf2 = '';\r\n\t\t\tthis.$sprites[spriteIndex].empty();\r\n\r\n\t\t\tlet ludicoloCount = 0;\r\n\t\t\tlet lombreCount = 0;\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tlet pokemon = side.pokemon[i];\r\n\t\t\t\tif (pokemon.speciesForme === 'Xerneas-*') {\r\n\t\t\t\t\tpokemon.speciesForme = 'Xerneas-Neutral';\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.speciesForme === 'Ludicolo') ludicoloCount++;\r\n\t\t\t\tif (pokemon.speciesForme === 'Lombre') lombreCount++;\r\n\r\n\t\t\t\tlet spriteData = Dex.getSpriteData(pokemon, !!spriteIndex, {\r\n\t\t\t\t\tgen: this.gen,\r\n\t\t\t\t\tnoScale: true,\r\n\t\t\t\t\tmod: this.mod,\r\n\t\t\t\t});\r\n\t\t\t\tlet y = 0;\r\n\t\t\t\tlet x = 0;\r\n\t\t\t\tif (spriteIndex) {\r\n\t\t\t\t\ty = 48 + 50 + 3 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t\tx = 48 + 180 + 50 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ty = 48 + 200 + 3 * i;\r\n\t\t\t\t\tx = 48 + 100 + 50 * i;\r\n\t\t\t\t}\r\n\t\t\t\tif (textBuf) textBuf += ' / ';\r\n\t\t\t\ttextBuf += pokemon.speciesForme;\r\n\t\t\t\tlet url = spriteData.url;\r\n\t\t\t\t// if (this.paused) url.replace('/xyani', '/xy').replace('.gif', '.png');\r\n\t\t\t\tbuf += `<img src=\"${url}\" width=\"${spriteData.w}\" height=\"${spriteData.h}\" style=\"position:absolute;top:${Math.floor(y - spriteData.h / 2)}px;left:${Math.floor(x - spriteData.w / 2)}px\" />`;\r\n\t\t\t\tbuf2 += `<div style=\"position:absolute;top:${y + 45}px;left:${x - 40}px;width:80px;font-size:10px;text-align:center;color:#FFF;\">`;\r\n\t\t\t\tconst gender = pokemon.gender;\r\n\t\t\t\tif (gender === 'M' || gender === 'F') {\r\n\t\t\t\t\tbuf2 += `<img src=\"${Dex.fxPrefix}gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" style=\"margin-bottom:-1px\" /> `;\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.level !== 100) {\r\n\t\t\t\t\tbuf2 += `<span style=\"text-shadow:#000 1px 1px 0,#000 1px -1px 0,#000 -1px 1px 0,#000 -1px -1px 0\"><small>L</small>${pokemon.level}</span>`;\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.item === '(mail)') {\r\n\t\t\t\t\tbuf2 += ` <img src=\"${Dex.resourcePrefix}fx/mail.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />`;\r\n\t\t\t\t} else if (pokemon.item) {\r\n\t\t\t\t\tbuf2 += ` <img src=\"${Dex.resourcePrefix}fx/item.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />`;\r\n\t\t\t\t}\r\n\t\t\t\tbuf2 += '</div>';\r\n\t\t\t}\r\n\t\t\tside.totalPokemon = side.pokemon.length;\r\n\t\t\tif (textBuf) {\r\n\t\t\t\tthis.log.addDiv('chat battle-history',\r\n\t\t\t\t\t`<strong>${BattleLog.escapeHTML(side.name)}'s team:</strong> <em style=\"color:#445566;display:block;\">${BattleLog.escapeHTML(textBuf)}</em>`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.$sprites[spriteIndex].html(buf + buf2);\r\n\r\n\t\t\tif (!newBGNum) {\r\n\t\t\t\tif (ludicoloCount >= 2) {\r\n\t\t\t\t\tnewBGNum = -3;\r\n\t\t\t\t} else if (ludicoloCount + lombreCount >= 2) {\r\n\t\t\t\t\tnewBGNum = -2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (newBGNum !== 0) {\r\n\t\t\tthis.setBgm(newBGNum);\r\n\t\t}\r\n\t\tthis.wait(1000);\r\n\t\tthis.updateSidebars();\r\n\t}\r\n\r\n\tshowJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tif (this.battle.ended || this.battle.rated) return;\r\n\t\tif (!this.battle.p1.name) {\r\n\t\t\tthis.$battle.append('<div class=\"playbutton1\"><button name=\"joinBattle\">Join Battle</button></div>');\r\n\t\t}\r\n\t\tif (!this.battle.p2.name) {\r\n\t\t\tthis.$battle.append('<div class=\"playbutton2\"><button name=\"joinBattle\">Join Battle</button></div>');\r\n\t\t}\r\n\t}\r\n\thideJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tthis.$battle.find('.playbutton1, .playbutton2').remove();\r\n\t}\r\n\r\n\tpseudoWeatherLeft(pWeather: WeatherState) {\r\n\t\tlet buf = `<br />${Dex.moves.get(pWeather[0]).name}`;\r\n\t\tif (!pWeather[1] && pWeather[2]) {\r\n\t\t\tpWeather[1] = pWeather[2];\r\n\t\t\tpWeather[2] = 0;\r\n\t\t}\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\t\tif (pWeather[2]) {\r\n\t\t\treturn `${buf} <small>(${pWeather[1]} or ${pWeather[2]} turns)</small>`;\r\n\t\t}\r\n\t\tif (pWeather[1]) {\r\n\t\t\treturn `${buf} <small>(${pWeather[1]} turn${pWeather[1] === 1 ? '' : 's'})</small>`;\r\n\t\t}\r\n\t\treturn buf; // weather not found\r\n\t}\r\n\tsideConditionLeft(cond: Side['sideConditions'][string], isFoe: boolean, all?: boolean) {\r\n\t\tif (!cond[2] && !cond[3] && !all) return '';\r\n\t\tlet buf = `<br />${isFoe && !all ? \"Foe's \" : \"\"}${Dex.moves.get(cond[0]).name}`;\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\r\n\t\tif (!cond[2] && !cond[3]) return buf;\r\n\t\tif (!cond[2] && cond[3]) {\r\n\t\t\tcond[2] = cond[3];\r\n\t\t\tcond[3] = 0;\r\n\t\t}\r\n\t\tif (!cond[3]) {\r\n\t\t\treturn `${buf} <small>(${cond[2]} turn${cond[2] === 1 ? '' : 's'})</small>`;\r\n\t\t}\r\n\t\treturn `${buf} <small>(${cond[2]} or ${cond[3]} turns)</small>`;\r\n\t}\r\n\tweatherLeft() {\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return '';\r\n\r\n\t\tlet weatherhtml = ``;\r\n\r\n\t\tif (this.battle.weather) {\r\n\t\t\tconst weatherNameTable: { [id: string]: string } = {\r\n\t\t\t\tsunnyday: 'Sun',\r\n\t\t\t\tdesolateland: 'Intense Sun',\r\n\t\t\t\traindance: 'Rain',\r\n\t\t\t\tprimordialsea: 'Heavy Rain',\r\n\t\t\t\tsandstorm: 'Sandstorm',\r\n\t\t\t\thail: 'Hail',\r\n\t\t\t\tsnowscape: 'Snow',\r\n\t\t\t\tdeltastream: 'Strong Winds',\r\n\t\t\t};\r\n\t\t\tweatherhtml = `${weatherNameTable[this.battle.weather] || this.battle.weather}`;\r\n\t\t\tif (this.battle.weatherMinTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.weatherMinTimeLeft} or ${this.battle.weatherTimeLeft} turns)</small>`;\r\n\t\t\t} else if (this.battle.weatherTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.weatherTimeLeft} turn${this.battle.weatherTimeLeft === 1 ? '' : 's'})</small>`;\r\n\t\t\t}\r\n\t\t\tconst nullifyWeather = this.battle.abilityActive(['Air Lock', 'Cloud Nine']);\r\n\t\t\tweatherhtml = `${nullifyWeather ? '<s>' : ''}${weatherhtml}${nullifyWeather ? '</s>' : ''}`;\r\n\t\t}\r\n\r\n\t\tfor (const pseudoWeather of this.battle.pseudoWeather) {\r\n\t\t\tweatherhtml += this.pseudoWeatherLeft(pseudoWeather);\r\n\t\t}\r\n\r\n\t\treturn weatherhtml;\r\n\t}\r\n\tsideConditionsLeft(side: Side, all?: boolean) {\r\n\t\tlet buf = ``;\r\n\t\tfor (const id in side.sideConditions) {\r\n\t\t\tbuf += this.sideConditionLeft(side.sideConditions[id], side.isFar, all);\r\n\t\t}\r\n\t\treturn buf;\r\n\t}\r\n\tupkeepWeather() {\r\n\t\tconst isIntense = ['desolateland', 'primordialsea', 'deltastream'].includes(this.curWeather);\r\n\t\tthis.$weather.animate({\r\n\t\t\topacity: 1.0,\r\n\t\t}, 300).animate({\r\n\t\t\topacity: isIntense ? 0.9 : 0.5,\r\n\t\t}, 300);\r\n\t}\r\n\tupdateWeather(instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet isIntense = false;\r\n\t\tlet weather = this.battle.weather;\r\n\t\tif (this.battle.abilityActive(['Air Lock', 'Cloud Nine'])) {\r\n\t\t\tweather = '' as ID;\r\n\t\t}\r\n\t\tlet terrain = '' as ID;\r\n\t\tfor (const pseudoWeatherData of this.battle.pseudoWeather) {\r\n\t\t\tterrain = toID(pseudoWeatherData[0]);\r\n\t\t}\r\n\t\tif (weather === 'desolateland' || weather === 'primordialsea' || weather === 'deltastream') {\r\n\t\t\tisIntense = true;\r\n\t\t}\r\n\r\n\t\tlet weatherhtml = this.weatherLeft();\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tweatherhtml += this.sideConditionsLeft(side);\r\n\t\t}\r\n\t\tif (weatherhtml) weatherhtml = `<br />` + weatherhtml;\r\n\r\n\t\tif (instant) {\r\n\t\t\tthis.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t\tif (this.curWeather === weather && this.curTerrain === terrain) return;\r\n\t\t\tthis.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\tthis.curTerrain = terrain;\r\n\t\t\tthis.$weather.attr('class', weather ? 'weather ' + weather + 'weather' : 'weather');\r\n\t\t\tthis.$weather.css('opacity', isIntense || !weather ? 0.9 : 0.5);\r\n\t\t\tthis.curWeather = weather;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (weather !== this.curWeather) {\r\n\t\t\tthis.$weather.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curWeather ? 300 : 100, () => {\r\n\t\t\t\tthis.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t\t\tthis.$weather.attr('class', weather ? 'weather ' + weather + 'weather' : 'weather');\r\n\t\t\t\tthis.$weather.animate({ opacity: isIntense || !weather ? 0.9 : 0.5 }, 300);\r\n\t\t\t});\r\n\t\t\tthis.curWeather = weather;\r\n\t\t} else {\r\n\t\t\tthis.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t}\r\n\r\n\t\tif (terrain !== this.curTerrain) {\r\n\t\t\tthis.$terrain.animate({\r\n\t\t\t\ttop: 360,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curTerrain ? 400 : 1, () => {\r\n\t\t\t\tthis.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\t\tthis.$terrain.animate({ top: 0, opacity: 1 }, 400);\r\n\t\t\t});\r\n\t\t\tthis.curTerrain = terrain;\r\n\t\t}\r\n\t}\r\n\tresetTurn() {\r\n\t\tif (this.battle.turn <= 0) {\r\n\t\t\tthis.$turn.html('');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$turn.html(`<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ${this.battle.turn}</div>`);\r\n\t}\r\n\tincrementTurn() {\r\n\t\tif (!this.animating) return;\r\n\r\n\t\tconst turn = this.battle.turn;\r\n\t\tif (turn <= 0) return;\r\n\t\tconst $prevTurn = this.$turn.children();\r\n\t\tconst $newTurn = $(`<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ${turn}</div>`);\r\n\t\t$newTurn.css({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 160,\r\n\t\t});\r\n\t\tthis.$turn.append($newTurn);\r\n\t\t$newTurn.animate({\r\n\t\t\topacity: 1,\r\n\t\t\tleft: 110,\r\n\t\t}, 500).animate({\r\n\t\t\topacity: 0.4,\r\n\t\t}, 1500);\r\n\t\t$prevTurn.animate({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 60,\r\n\t\t}, 500, () => {\r\n\t\t\t$prevTurn.remove();\r\n\t\t});\r\n\t\tthis.updateAcceleration();\r\n\t\tthis.wait(500 / this.acceleration);\r\n\t}\r\n\tupdateAcceleration() {\r\n\t\tif (this.battle.turnsSinceMoved > 2) {\r\n\t\t\tthis.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1) * Math.min(this.battle.turnsSinceMoved - 1, 3);\r\n\t\t} else {\r\n\t\t\tthis.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1);\r\n\t\t\tif (this.battle.messageFadeTime < 50) this.acceleration = 3;\r\n\t\t}\r\n\t}\r\n\r\n\taddPokemonSprite(pokemon: Pokemon) {\r\n\t\tconst sprite = new PokemonSprite(Dex.getSpriteData(pokemon, pokemon.side.isFar, {\r\n\t\t\tgen: this.gen,\r\n\t\t\tmod: this.mod,\r\n\t\t}), {\r\n\t\t\tx: pokemon.side.x,\r\n\t\t\ty: pokemon.side.y,\r\n\t\t\tz: pokemon.side.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this, pokemon.side.isFar);\r\n\t\tif (sprite.$el) this.$sprites[+pokemon.side.isFar].append(sprite.$el);\r\n\t\treturn sprite;\r\n\t}\r\n\r\n\taddSideCondition(siden: number, id: ID, instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tconst side = this.battle.sides[siden];\r\n\t\tconst spriteIndex = +side.isFar;\r\n\t\tlet x = side.x;\r\n\t\tlet y = side.y;\r\n\t\tif (this.battle.gameType === 'freeforall') {\r\n\t\t\tx += side.isFar ? 20 : -20;\r\n\t\t\tif (side.n > 1) {\r\n\t\t\t\tx += (side.isFar ? -140 : 140);\r\n\t\t\t\ty += side.isFar ? 14 : -20;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswitch (id) {\r\n\t\tcase 'auroraveil':\r\n\t\t\tconst auroraveil = new Sprite(BattleEffects.auroraveil, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-14),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(auroraveil.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [auroraveil];\r\n\t\t\tauroraveil.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'reflect':\r\n\t\t\tconst reflect = new Sprite(BattleEffects.reflect, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-17),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(reflect.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [reflect];\r\n\t\t\treflect.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'safeguard':\r\n\t\t\tconst safeguard = new Sprite(BattleEffects.safeguard, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-20),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(safeguard.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [safeguard];\r\n\t\t\tsafeguard.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'lightscreen':\r\n\t\t\tconst lightscreen = new Sprite(BattleEffects.lightscreen, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-23),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(lightscreen.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [lightscreen];\r\n\t\t\tlightscreen.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'mist':\r\n\t\t\tconst mist = new Sprite(BattleEffects.mist, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\tz: side.behind(-27),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(mist.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [mist];\r\n\t\t\tmist.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'stealthrock':\r\n\t\t\tconst rock1 = new Sprite(BattleEffects.rock1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(-40),\r\n\t\t\t\ty: y - 10,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock2 = new Sprite(BattleEffects.rock2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(-20),\r\n\t\t\t\ty: y - 40,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock3 = new Sprite(BattleEffects.rock1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(30),\r\n\t\t\t\ty: y - 20,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock4 = new Sprite(BattleEffects.rock2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(10),\r\n\t\t\t\ty: y - 30,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock1.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock2.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock3.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock4.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [rock1, rock2, rock3, rock4];\r\n\t\t\tbreak;\r\n\t\tcase 'gmaxsteelsurge':\r\n\t\t\tconst surge1 = new Sprite(BattleEffects.greenmetal1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(-30),\r\n\t\t\t\ty: y - 20,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\t\t\tconst surge2 = new Sprite(BattleEffects.greenmetal2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(35),\r\n\t\t\t\ty: y - 15,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\t\t\tconst surge3 = new Sprite(BattleEffects.greenmetal1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + side.leftof(50),\r\n\t\t\t\ty: y - 10,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge1.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge2.$el);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge3.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [surge1, surge2, surge3];\r\n\t\t\tbreak;\r\n\t\tcase 'spikes':\r\n\t\t\tlet spikeArray = this.sideConditions[siden]['spikes'];\r\n\t\t\tif (!spikeArray) {\r\n\t\t\t\tspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['spikes'] = spikeArray;\r\n\t\t\t}\r\n\t\t\tlet levels = this.battle.sides[siden].sideConditions['spikes'][1];\r\n\t\t\tif (spikeArray.length < 1 && levels >= 1) {\r\n\t\t\t\tconst spike1 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x - 25,\r\n\t\t\t\t\ty: y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike1.$el);\r\n\t\t\t\tspikeArray.push(spike1);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 2 && levels >= 2) {\r\n\t\t\t\tconst spike2 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x + 30,\r\n\t\t\t\t\ty: y - 45,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike2.$el);\r\n\t\t\t\tspikeArray.push(spike2);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 3 && levels >= 3) {\r\n\t\t\t\tconst spike3 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x + 50,\r\n\t\t\t\t\ty: y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike3.$el);\r\n\t\t\t\tspikeArray.push(spike3);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'toxicspikes':\r\n\t\t\tlet tspikeArray = this.sideConditions[siden]['toxicspikes'];\r\n\t\t\tif (!tspikeArray) {\r\n\t\t\t\ttspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['toxicspikes'] = tspikeArray;\r\n\t\t\t}\r\n\t\t\tlet tspikeLevels = this.battle.sides[siden].sideConditions['toxicspikes'][1];\r\n\t\t\tif (tspikeArray.length < 1 && tspikeLevels >= 1) {\r\n\t\t\t\tconst tspike1 = new Sprite(BattleEffects.poisoncaltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x + 5,\r\n\t\t\t\t\ty: y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike1.$el);\r\n\t\t\t\ttspikeArray.push(tspike1);\r\n\t\t\t}\r\n\t\t\tif (tspikeArray.length < 2 && tspikeLevels >= 2) {\r\n\t\t\t\tconst tspike2 = new Sprite(BattleEffects.poisoncaltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: x - 15,\r\n\t\t\t\t\ty: y - 35,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike2.$el);\r\n\t\t\t\ttspikeArray.push(tspike2);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'stickyweb':\r\n\t\t\tconst web = new Sprite(BattleEffects.web, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: x + 15,\r\n\t\t\t\ty: y - 35,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(web.$el);\r\n\t\t\tthis.sideConditions[siden][id] = [web];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tremoveSideCondition(siden: number, id: ID) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (this.sideConditions[siden][id]) {\r\n\t\t\tfor (const sprite of this.sideConditions[siden][id]) sprite.destroy();\r\n\t\t\tdelete this.sideConditions[siden][id];\r\n\t\t}\r\n\t}\r\n\tresetSideConditions() {\r\n\t\tfor (let siden = 0; siden < this.sideConditions.length; siden++) {\r\n\t\t\tfor (const id in this.sideConditions[siden]) {\r\n\t\t\t\tthis.removeSideCondition(siden, id as ID);\r\n\t\t\t}\r\n\t\t\tfor (const id in this.battle.sides[siden].sideConditions) {\r\n\t\t\t\tthis.addSideCondition(siden, id as ID, true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttypeAnim(pokemon: Pokemon, types: string) {\r\n\t\tconst result = BattleLog.escapeHTML(types).split('/').map(type =>\r\n\t\t\t`<img src=\"${Dex.resourcePrefix}sprites/types/${encodeURIComponent(type)}.png\" alt=\"${type}\" class=\"pixelated\" />`\r\n\t\t).join(' ');\r\n\t\tthis.resultAnim(pokemon, result, 'neutral');\r\n\t}\r\n\tresultAnim(pokemon: Pokemon, result: string, type: 'bad' | 'good' | 'neutral' | Dex.StatusName) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet $effect = $('<div class=\"result ' + type + 'result\"><strong>' + result + '</strong></div>');\r\n\t\tthis.$fx.append($effect);\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 5,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({\r\n\t\t\topacity: 1,\r\n\t\t}, 1);\r\n\t\t$effect.animate({\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 65,\r\n\t\t}, 1000, 'swing');\r\n\t\tthis.wait(this.acceleration < 2 ? 350 : 250);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tabilityActivateAnim(pokemon: Pokemon, result: string) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.$fx.append(`<div class=\"result abilityresult\"><strong>${result}</strong></div>`);\r\n\t\tlet $effect = this.$fx.children().last();\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top + 15,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({\r\n\t\t\topacity: 1,\r\n\t\t}, 1);\r\n\t\t$effect.delay(800).animate({\r\n\t\t\topacity: 0,\r\n\t\t}, 400, 'swing');\r\n\t\tthis.wait(100);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tdamageAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'y') {\r\n\t\t\tcallback = () => { $hp.addClass('hp-yellow'); };\r\n\t\t}\r\n\t\tif (hpcolor === 'r') {\r\n\t\t\tcallback = () => { $hp.addClass('hp-yellow hp-red'); };\r\n\t\t}\r\n\r\n\t\tif (damage === '100%' && pokemon.hp > 0) damage = '99%';\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Damage' : `&minus;${damage}`, 'bad');\r\n\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\thealAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'g') {\r\n\t\t\tcallback = () => { $hp.removeClass('hp-yellow hp-red'); };\r\n\t\t}\r\n\t\tif (hpcolor === 'y') {\r\n\t\t\tcallback = () => { $hp.removeClass('hp-red'); };\r\n\t\t}\r\n\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Heal' : `+${damage}`, 'good');\r\n\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\r\n\t// Sprite methods\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tremoveEffect(pokemon: Pokemon, id: ID, instant?: boolean) {\r\n\t\treturn pokemon.sprite.removeEffect(id, instant);\r\n\t}\r\n\taddEffect(pokemon: Pokemon, id: ID, instant?: boolean) {\r\n\t\treturn pokemon.sprite.addEffect(id, instant);\r\n\t}\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) {\r\n\t\treturn pokemon.sprite.animSummon(pokemon, slot, instant);\r\n\t}\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) {\r\n\t\treturn pokemon.sprite.animUnsummon(pokemon, instant);\r\n\t}\r\n\tanimDragIn(pokemon: Pokemon, slot: number) {\r\n\t\treturn pokemon.sprite.animDragIn(pokemon, slot);\r\n\t}\r\n\tanimDragOut(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animDragOut(pokemon);\r\n\t}\r\n\tresetStatbar(pokemon: Pokemon, startHidden?: boolean) {\r\n\t\treturn pokemon.sprite.resetStatbar(pokemon, startHidden);\r\n\t}\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\treturn pokemon.sprite.updateStatbar(pokemon, updatePrevhp, updateHp);\r\n\t}\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\treturn pokemon.sprite.updateStatbarIfExists(pokemon, updatePrevhp, updateHp);\r\n\t}\r\n\tanimTransform(pokemon: Pokemon, useSpeciesAnim?: boolean, isPermanent?: boolean) {\r\n\t\treturn pokemon.sprite.animTransform(pokemon, useSpeciesAnim, isPermanent);\r\n\t}\r\n\tclearEffects(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.clearEffects();\r\n\t}\r\n\tremoveTransform(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.removeTransform();\r\n\t}\r\n\tanimFaint(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animFaint(pokemon);\r\n\t}\r\n\tanimReset(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animReset();\r\n\t}\r\n\tanim(pokemon: Pokemon, end: ScenePos, transition?: string) {\r\n\t\treturn pokemon.sprite.anim(end, transition);\r\n\t}\r\n\tbeforeMove(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.beforeMove();\r\n\t}\r\n\tafterMove(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.afterMove();\r\n\t}\r\n\r\n\t// Misc\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tsetFrameHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tthis.$frame.html(html);\r\n\t}\r\n\tsetControlsHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tlet $controls = this.$frame.parent().children('.battle-controls');\r\n\t\t$controls.html(html);\r\n\t}\r\n\r\n\tpreloadImage(url: string) {\r\n\t\tlet token = url.replace(/\\.(gif|png)$/, '').replace(/\\//g, '-');\r\n\t\tif (this.preloadCache[token]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.preloadNeeded++;\r\n\t\tthis.preloadCache[token] = new Image();\r\n\t\tthis.preloadCache[token].onload = () => {\r\n\t\t\tthis.preloadDone++;\r\n\t\t};\r\n\t\tthis.preloadCache[token].src = url;\r\n\t}\r\n\tpreloadEffects() {\r\n\t\tfor (let i in BattleEffects) {\r\n\t\t\tif (i === 'alpha' || i === 'omega') continue;\r\n\t\t\tconst url = BattleEffects[i].url;\r\n\t\t\tif (url) this.preloadImage(url);\r\n\t\t}\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani/substitute.gif');\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani-back/substitute.gif');\r\n\t}\r\n\trollBgm() {\r\n\t\tthis.setBgm(1 + this.numericId % 15);\r\n\t}\r\n\tsetBgm(bgmNum: number) {\r\n\t\tif (this.bgmNum === bgmNum) return;\r\n\t\tthis.bgmNum = bgmNum;\r\n\r\n\t\tswitch (bgmNum) {\r\n\t\tcase -1:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-homika-dogars.mp3', 1661, 68131, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -2:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/xd-miror-b.mp3', 9000, 57815, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -3:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/colosseum-miror-b.mp3', 896, 47462, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 1:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/dpp-trainer.mp3', 13440, 96959, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/dpp-rival.mp3', 13888, 66352, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-johto-trainer.mp3', 23731, 125086, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 4:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-kanto-trainer.mp3', 13003, 94656, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 5:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-trainer.mp3', 14629, 110109, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 6:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-rival.mp3', 19180, 57373, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 7:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-subway-trainer.mp3', 15503, 110984, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 8:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-kanto-gym-leader.mp3', 14626, 58986, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 9:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-rival.mp3', 7152, 68708, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 10:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/xy-trainer.mp3', 7802, 82469, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 11:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/xy-rival.mp3', 7802, 58634, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 12:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/oras-trainer.mp3', 13579, 91548, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 13:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/oras-rival.mp3', 14303, 69149, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 14:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/sm-trainer.mp3', 8323, 89230, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase -101:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/spl-elite4.mp3', 3962, 152509, this.bgm);\r\n\t\t\tbreak;\r\n\t\tcase 15:\r\n\t\tdefault:\r\n\t\t\tthis.bgm = BattleSound.loadBgm('audio/sm-rival.mp3', 11389, 62158, this.bgm);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.updateBgm();\r\n\t}\r\n\tupdateBgm() {\r\n\t\t/**\r\n\t\t * - not playing in non-battle RoomGames before `|start` (turn -1)\r\n\t\t * - not playing at team preview in replays (paused)\r\n\t\t * - playing at team preview in games (turn 0)\r\n\t\t * - playing during the game (turn 1+)\r\n\t\t * - not playing while paused\r\n\t\t * - playing while waiting for players to choose moves (atQueueEnd && !ended)\r\n\t\t * - not playing after the game has ended\r\n\t\t */\r\n\t\tconst nowPlaying = (\r\n\t\t\tthis.battle.turn >= 0 && !this.battle.ended && !this.battle.paused\r\n\t\t);\r\n\t\tif (nowPlaying) {\r\n\t\t\tif (!this.bgm) this.rollBgm();\r\n\t\t\tthis.bgm!.resume();\r\n\t\t} else if (this.bgm) {\r\n\t\t\tthis.bgm.pause();\r\n\t\t}\r\n\t}\r\n\tresetBgm() {\r\n\t\tif (this.bgm) this.bgm.stop();\r\n\t}\r\n\tdestroy() {\r\n\t\tthis.log.destroy();\r\n\t\tif (this.$frame) {\r\n\t\t\tthis.$frame.empty();\r\n\t\t\t// listeners set by BattleTooltips\r\n\t\t\tthis.$frame.off();\r\n\t\t}\r\n\t\tif (this.bgm) {\r\n\t\t\tthis.bgm.destroy();\r\n\t\t\tthis.bgm = null;\r\n\t\t}\r\n\t\tthis.battle = null!;\r\n\t}\r\n\tstatic getHPColor(pokemon: { hp: number, maxhp: number }) {\r\n\t\tlet ratio = pokemon.hp / pokemon.maxhp;\r\n\t\tif (ratio > 0.5) return 'g';\r\n\t\tif (ratio > 0.2) return 'y';\r\n\t\treturn 'r';\r\n\t}\r\n}\r\n\r\nexport interface ScenePos {\r\n\t/** - left, + right */\r\n\tx?: number;\r\n\t/** - down, + up */\r\n\ty?: number;\r\n\t/** - player, + opponent */\r\n\tz?: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\ninterface InitScenePos {\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\n\r\nexport class Sprite {\r\n\tscene: BattleScene;\r\n\t$el: JQuery = null!;\r\n\tsp: SpriteData;\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene) {\r\n\t\tthis.scene = scene;\r\n\t\tlet sp = null;\r\n\t\tif (spriteData) {\r\n\t\t\tsp = spriteData;\r\n\t\t\tlet rawHTML = sp.rawHTML ||\r\n\t\t\t\t`<img src=\"${sp.url!}\" style=\"display:none;position:absolute\"${sp.pixelated ? ' class=\"pixelated\"' : ''} />`;\r\n\t\t\tthis.$el = $(rawHTML);\r\n\t\t} else {\r\n\t\t\tsp = {\r\n\t\t\t\tw: 0,\r\n\t\t\t\th: 0,\r\n\t\t\t\turl: '',\r\n\t\t\t};\r\n\t\t}\r\n\t\tthis.sp = sp;\r\n\r\n\t\tthis.x = pos.x;\r\n\t\tthis.y = pos.y;\r\n\t\tthis.z = pos.z;\r\n\t\tif (pos.opacity !== 0 && spriteData) this.$el.css(scene.pos(pos, sp));\r\n\r\n\t\tif (!spriteData) {\r\n\t\t\tthis.delay = function () { return this; };\r\n\t\t\tthis.anim = function () { return this; };\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\tdelay(time: number) {\r\n\t\tthis.$el.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\tanim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tif (end.time === 0) {\r\n\t\t\tthis.$el.css(this.scene.pos(end, this.sp));\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tthis.$el.animate(this.scene.posT(end, this.sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nexport class PokemonSprite extends Sprite {\r\n\t// HTML strings are constructed from this table and stored back in it to cache them\r\n\tprotected static statusTable: { [id: string]: [string, 'good' | 'bad' | 'neutral'] | null | string } = {\r\n\t\tformechange: null,\r\n\t\ttypechange: null,\r\n\t\ttypeadd: null,\r\n\t\tdynamax: ['Dynamaxed', 'good'],\r\n\t\ttrapped: null, // linked volatiles are not implemented yet\r\n\t\tthroatchop: ['Throat Chop', 'bad'],\r\n\t\tconfusion: ['Confused', 'bad'],\r\n\t\thealblock: ['Heal Block', 'bad'],\r\n\t\tyawn: ['Drowsy', 'bad'],\r\n\t\tflashfire: ['Flash Fire', 'good'],\r\n\t\timprison: ['Imprisoning foe', 'good'],\r\n\t\tautotomize: ['Lightened', 'neutral'],\r\n\t\tmiracleeye: ['Miracle Eye', 'bad'],\r\n\t\tforesight: ['Foresight', 'bad'],\r\n\t\ttelekinesis: ['Telekinesis', 'neutral'],\r\n\t\ttransform: ['Transformed', 'neutral'],\r\n\t\tpowertrick: ['Power Trick', 'neutral'],\r\n\t\tcurse: ['Curse', 'bad'],\r\n\t\tnightmare: ['Nightmare', 'bad'],\r\n\t\tattract: ['Infatuation', 'bad'],\r\n\t\ttorment: ['Torment', 'bad'],\r\n\t\ttaunt: ['Taunt', 'bad'],\r\n\t\tdisable: ['Disable', 'bad'],\r\n\t\tembargo: ['Embargo', 'bad'],\r\n\t\tingrain: ['Ingrain', 'good'],\r\n\t\taquaring: ['Aqua Ring', 'good'],\r\n\t\tstockpile1: ['Stockpile', 'good'],\r\n\t\tstockpile2: ['Stockpile&times;2', 'good'],\r\n\t\tstockpile3: ['Stockpile&times;3', 'good'],\r\n\t\tperish0: ['Perish now', 'bad'],\r\n\t\tperish1: ['Perish next turn', 'bad'],\r\n\t\tperish2: ['Perish in 2', 'bad'],\r\n\t\tperish3: ['Perish in 3', 'bad'],\r\n\t\tairballoon: ['Balloon', 'good'],\r\n\t\tleechseed: ['Leech Seed', 'bad'],\r\n\t\tencore: ['Encore', 'bad'],\r\n\t\tmustrecharge: ['Must recharge', 'bad'],\r\n\t\tbide: ['Bide', 'good'],\r\n\t\tmagnetrise: ['Magnet Rise', 'good'],\r\n\t\tsmackdown: ['Smack Down', 'bad'],\r\n\t\tfocusenergy: ['Critical Hit Boost', 'good'],\r\n\t\tdragoncheer: ['Critical Hit Boost', 'good'],\r\n\t\tslowstart: ['Slow Start', 'bad'],\r\n\t\tprotosynthesisatk: ['Protosynthesis: Atk', 'good'],\r\n\t\tprotosynthesisdef: ['Protosynthesis: Def', 'good'],\r\n\t\tprotosynthesisspa: ['Protosynthesis: SpA', 'good'],\r\n\t\tprotosynthesisspd: ['Protosynthesis: SpD', 'good'],\r\n\t\tprotosynthesisspe: ['Protosynthesis: Spe', 'good'],\r\n\t\tquarkdriveatk: ['Quark Drive: Atk', 'good'],\r\n\t\tquarkdrivedef: ['Quark Drive: Def', 'good'],\r\n\t\tquarkdrivespa: ['Quark Drive: SpA', 'good'],\r\n\t\tquarkdrivespd: ['Quark Drive: SpD', 'good'],\r\n\t\tquarkdrivespe: ['Quark Drive: Spe', 'good'],\r\n\t\tfallen1: ['Fallen: 1', 'good'],\r\n\t\tfallen2: ['Fallen: 2', 'good'],\r\n\t\tfallen3: ['Fallen: 3', 'good'],\r\n\t\tfallen4: ['Fallen: 4', 'good'],\r\n\t\tfallen5: ['Fallen: 5', 'good'],\r\n\t\tnoretreat: ['No Retreat', 'bad'],\r\n\t\toctolock: ['Octolock', 'bad'],\r\n\t\ttarshot: ['Tar Shot', 'bad'],\r\n\t\tsaltcure: ['Salt Cure', 'bad'],\r\n\t\tsyrupbomb: ['Syrupy', 'bad'],\r\n\t\tdoomdesire: null,\r\n\t\tfuturesight: null,\r\n\t\tmimic: ['Mimic', 'good'],\r\n\t\twatersport: ['Water Sport', 'good'],\r\n\t\tmudsport: ['Mud Sport', 'good'],\r\n\t\tsubstitute: null,\r\n\t\t// sub graphics are handled elsewhere, see Battle.Sprite.animSub()\r\n\t\tuproar: ['Uproar', 'neutral'],\r\n\t\trage: ['Rage', 'neutral'],\r\n\t\troost: ['Landed', 'neutral'],\r\n\t\tprotect: ['Protect', 'good'],\r\n\t\tquickguard: ['Quick Guard', 'good'],\r\n\t\twideguard: ['Wide Guard', 'good'],\r\n\t\tcraftyshield: ['Crafty Shield', 'good'],\r\n\t\tmatblock: ['Mat Block', 'good'],\r\n\t\tmaxguard: ['Max Guard', 'good'],\r\n\t\thelpinghand: ['Helping Hand', 'good'],\r\n\t\tmagiccoat: ['Magic Coat', 'good'],\r\n\t\tdestinybond: ['Destiny Bond', 'good'],\r\n\t\tsnatch: ['Snatch', 'good'],\r\n\t\tgrudge: ['Grudge', 'good'],\r\n\t\tcharge: ['Charge', 'good'],\r\n\t\tendure: ['Endure', 'good'],\r\n\t\tfocuspunch: ['Focusing', 'neutral'],\r\n\t\tshelltrap: ['Trap set', 'neutral'],\r\n\t\tpowder: ['Powder', 'bad'],\r\n\t\telectrify: ['Electrify', 'bad'],\r\n\t\tglaiverush: ['Glaive Rush', 'bad'],\r\n\t\tragepowder: ['Rage Powder', 'good'],\r\n\t\tfollowme: ['Follow Me', 'good'],\r\n\t\tinstruct: ['Instruct', 'neutral'],\r\n\t\tbeakblast: ['Beak Blast', 'neutral'],\r\n\t\tlaserfocus: ['Laser Focus', 'good'],\r\n\t\tspotlight: ['Spotlight', 'neutral'],\r\n\t\titemremoved: null,\r\n\t\t// partial trapping\r\n\t\tbind: ['Bind', 'bad'],\r\n\t\tclamp: ['Clamp', 'bad'],\r\n\t\tfirespin: ['Fire Spin', 'bad'],\r\n\t\tinfestation: ['Infestation', 'bad'],\r\n\t\tmagmastorm: ['Magma Storm', 'bad'],\r\n\t\tsandtomb: ['Sand Tomb', 'bad'],\r\n\t\tsnaptrap: ['Snap Trap', 'bad'],\r\n\t\tthundercage: ['Thunder Cage', 'bad'],\r\n\t\twhirlpool: ['Whirlpool', 'bad'],\r\n\t\twrap: ['Wrap', 'bad'],\r\n\t\t// Gen 1-2\r\n\t\tmist: ['Mist', 'good'],\r\n\t\t// Gen 1\r\n\t\tlightscreen: ['Light Screen', 'good'],\r\n\t\treflect: ['Reflect', 'good'],\r\n\t};\r\n\tforme = '';\r\n\tcryurl: string | undefined = undefined;\r\n\r\n\tsubsp: SpriteData | null = null;\r\n\t$sub: JQuery | null = null;\r\n\tisSubActive = false;\r\n\r\n\t$statbar: JQuery | null = null;\r\n\tisFrontSprite: boolean;\r\n\tisMissedPokemon = false;\r\n\t/**\r\n\t * If the pokemon is transformed, sprite.sp will be the transformed\r\n\t * SpriteData and sprite.oldsp will hold the original form's SpriteData\r\n\t */\r\n\toldsp: SpriteData | null = null;\r\n\r\n\tstatbarLeft = 0;\r\n\tstatbarTop = 0;\r\n\tleft = 0;\r\n\ttop = 0;\r\n\r\n\teffects: { [id: string]: Sprite[] } = {};\r\n\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene, isFrontSprite: boolean) {\r\n\t\tsuper(spriteData, pos, scene);\r\n\t\tthis.cryurl = this.sp.cryurl;\r\n\t\tthis.isFrontSprite = isFrontSprite;\r\n\t}\r\n\toverride destroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tif (this.$statbar) this.$statbar.remove();\r\n\t\tthis.$statbar = null;\r\n\t\tif (this.$sub) this.$sub.remove();\r\n\t\tthis.$sub = null;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\r\n\toverride delay(time: number) {\r\n\t\tthis.$el.delay(time);\r\n\t\tif (this.$sub) this.$sub.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\toverride anim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tconst [$el, sp] = (this.isSubActive ? [this.$sub!, this.subsp!] : [this.$el, this.sp]);\r\n\t\t$el.animate(this.scene.posT(end, sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tbehindx(offset: number) {\r\n\t\treturn this.x + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\tbehindy(offset: number) {\r\n\t\treturn this.y + (this.isFrontSprite ? -1 : 1) * offset;\r\n\t}\r\n\tleftof(offset: number) {\r\n\t\treturn this.x + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\tbehind(offset: number) {\r\n\t\treturn this.z + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\r\n\tremoveTransform() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!this.oldsp) return;\r\n\t\tlet sp = this.oldsp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\t\tthis.sp = sp;\r\n\t\tthis.oldsp = null;\r\n\r\n\t\tconst $el = this.isSubActive ? this.$sub! : this.$el;\r\n\t\t$el.attr('src', sp.url!);\r\n\t\t$el.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: (this.isSubActive ? this.behind(30) : this.z),\r\n\t\t\topacity: (this.$sub ? 0.3 : 1),\r\n\t\t}, sp));\r\n\t}\r\n\tanimSub(instant?: boolean, noAnim?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) return;\r\n\t\tconst subsp = Dex.getSpriteData('substitute', this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tthis.subsp = subsp;\r\n\t\tthis.$sub = $('<img src=\"' + subsp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (subsp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\tthis.scene.$spritesFront[+this.isFrontSprite].append(this.$sub);\r\n\t\tthis.isSubActive = true;\r\n\t\tif (instant) {\r\n\t\t\tif (!noAnim) this.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(30),\r\n\t\t\topacity: 0.3,\r\n\t\t}, this.sp), 500);\r\n\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, subsp));\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, subsp), 500);\r\n\t\tthis.scene.waitFor(this.$sub);\r\n\t}\r\n\tanimSubFade(instant?: boolean) {\r\n\t\tif (!this.$sub || !this.scene.animating) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (instant) {\r\n\t\t\tthis.$sub.remove();\r\n\t\t\tthis.$sub = null;\r\n\t\t\tthis.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.timeOffset) {\r\n\t\t\tthis.$el.delay(this.scene.timeOffset);\r\n\t\t\tthis.$sub.delay(this.scene.timeOffset);\r\n\t\t}\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.subsp!), 500);\r\n\r\n\t\tthis.$sub = null;\r\n\t\tthis.anim({ time: 500 });\r\n\t\tif (this.scene.animating) this.scene.waitFor(this.$el);\r\n\t}\r\n\tbeforeMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.isSubActive) return false;\r\n\t\tthis.isSubActive = false;\r\n\t\tthis.anim({ time: 300 });\r\n\t\tthis.$sub!.animate(this.scene.pos({\r\n\t\t\tx: this.leftof(-50),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0.5,\r\n\t\t}, this.subsp!), 300);\r\n\t\tfor (const side of this.scene.battle.sides) {\r\n\t\t\tfor (const active of side.active) {\r\n\t\t\t\tif (active && active.sprite !== this) {\r\n\t\t\t\t\tactive.sprite.delay(300);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.scene.wait(300);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\r\n\t\treturn true;\r\n\t}\r\n\tafterMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.$sub || this.isSubActive) return false;\r\n\t\tthis.isSubActive = true;\r\n\t\tthis.$sub.delay(300);\r\n\t\tthis.$el.add(this.$sub).promise().done(() => {\r\n\t\t\tif (!this.$sub || !this.$el) return;\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t\tthis.anim({ time: 300 });\r\n\t\t});\r\n\t\treturn false;\r\n\t}\r\n\tremoveSub() {\r\n\t\tif (!this.$sub) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (!this.scene.animating) {\r\n\t\t\tthis.$sub.remove();\r\n\t\t} else {\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, () => {\r\n\t\t\t\t$sub.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.$sub = null;\r\n\t}\r\n\treset(pokemon: Pokemon) {\r\n\t\tthis.clearEffects();\r\n\r\n\t\tif (pokemon.volatiles.formechange || pokemon.volatiles.dynamax || pokemon.volatiles.terastallize) {\r\n\t\t\tif (!this.oldsp) this.oldsp = this.sp;\r\n\t\t\tthis.sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\t\tgen: this.scene.gen,\r\n\t\t\t\tmod: this.scene.mod,\r\n\t\t\t});\r\n\t\t} else if (this.oldsp) {\r\n\t\t\tthis.sp = this.oldsp;\r\n\t\t\tthis.oldsp = null;\r\n\t\t}\r\n\r\n\t\t// I can rant for ages about how jQuery sucks, necessitating this function\r\n\t\t// The short version is: after calling elem.finish() on an animating\r\n\t\t// element, there appear to be a grand total of zero ways to hide it\r\n\t\t// afterwards. I've tried `elem.css('display', 'none')`, `elem.hide()`,\r\n\t\t// `elem.hide(1)`, `elem.hide(1000)`, `elem.css('opacity', 0)`,\r\n\t\t// `elem.animate({opacity: 0}, 1000)`.\r\n\t\t// They literally all do nothing, and the element retains\r\n\t\t// a style attribute containing `display: inline-block` and `opacity: 1`\r\n\t\t// Only forcibly removing the element from the DOM actually makes it\r\n\t\t// disappear, so that's what we do.\r\n\t\tif (this.$el) {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.remove();\r\n\t\t\tconst $newEl = $(`<img src=\"${this.sp.url!}\" style=\"display:none;position:absolute\"${this.sp.pixelated ? ' class=\"pixelated\"' : ''} />`);\r\n\t\t\tthis.$el = $newEl;\r\n\t\t}\r\n\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.$el) this.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(pokemon.slot);\r\n\t\tthis.resetStatbar(pokemon);\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, this.sp));\r\n\r\n\t\tfor (const id in pokemon.volatiles) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.turnstatuses) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.movestatuses) this.addEffect(id as ID, true);\r\n\t}\r\n\tanimReset() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = true;\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$sub.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp));\r\n\t\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t} else {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.sp));\r\n\t\t}\r\n\t}\r\n\trecalculatePos(slot: number) {\r\n\t\tlet moreActive = this.scene.activeCount - 1;\r\n\t\tlet statbarOffset = 0;\r\n\t\tconst isFFA = this.scene.battle.gameType === 'freeforall';\r\n\t\tif (isFFA) {\r\n\t\t\t// create a gap between Pokemon on the same \"side\" as a distinction between FFA and Multi battles\r\n\t\t\tmoreActive++;\r\n\t\t\tif (slot) slot++;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 4 && moreActive) {\r\n\t\t\tthis.x = (slot - 0.52) * (this.isFrontSprite ? 1 : -1) * -55;\r\n\t\t\tthis.y = (this.isFrontSprite ? 1 : -1) + 1;\r\n\t\t\tif (this.isFrontSprite) statbarOffset = 30 * slot;\r\n\t\t\tif (!this.isFrontSprite) statbarOffset = -28 * slot;\r\n\t\t} else {\r\n\t\t\tswitch (moreActive) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.x = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tif (this.sp.pixelated) {\r\n\t\t\t\t\tthis.x = (slot * -100 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.x = (slot * -75 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.x = (slot * -70 + 20) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.y = this.isFrontSprite ? slot * 7 : slot * -10;\r\n\t\t\tif (this.isFrontSprite) statbarOffset = 17 * slot;\r\n\t\t\tif (this.isFrontSprite && !moreActive && this.sp.pixelated) statbarOffset = 15;\r\n\t\t\tif (!this.isFrontSprite) statbarOffset = -7 * slot;\r\n\t\t\tif (this.isFrontSprite && moreActive === 2) statbarOffset = 14 * slot - 10;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 2) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 20 : 1;\r\n\t\t} else if (this.scene.gen <= 3) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 30 : 5;\r\n\t\t} else if (this.scene.gen !== 5) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 30 : 20;\r\n\t\t}\r\n\r\n\t\tlet pos = this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, {\r\n\t\t\tw: 0,\r\n\t\t\th: 96,\r\n\t\t});\r\n\t\tpos.top += 40;\r\n\r\n\t\tthis.left = pos.left;\r\n\t\tthis.top = pos.top;\r\n\t\tthis.statbarLeft = pos.left - 80;\r\n\t\tthis.statbarTop = pos.top - 73 - statbarOffset;\r\n\t\tif (this.statbarTop < -4) this.statbarTop = -4;\r\n\r\n\t\tif (moreActive) {\r\n\t\t\t// make sure element is in the right z-order\r\n\t\t\tif (!!slot === this.isFrontSprite) {\r\n\t\t\t\tthis.$el.prependTo(this.$el.parent());\r\n\t\t\t} else {\r\n\t\t\t\tthis.$el.appendTo(this.$el.parent());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tif (instant) {\r\n\t\t\tthis.$el.css('display', 'block');\r\n\t\t\tthis.animReset();\r\n\t\t\tthis.resetStatbar(pokemon);\r\n\t\t\tif (pokemon.hasVolatile('substitute' as ID)) this.animSub(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.cryurl) {\r\n\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t}\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 30,\r\n\t\t\tz: this.behind(50),\r\n\t\t\tscale: 0.7,\r\n\t\t}, {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, 'ballistic2', 'fade');\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y + 30,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t}).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t\t}, 'accel');\r\n\t\t}\r\n\t\tif (this.sp.shiny && this.scene.acceleration < 2) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\r\n\t\tif (pokemon.hasVolatile('substitute' as ID)) {\r\n\t\t\tthis.animSub(true, true);\r\n\t\t\tthis.$sub!.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t}\r\n\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\ttop: this.statbarTop + 20,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300 / this.scene.acceleration).animate({\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 1,\r\n\t\t}, 400 / this.scene.acceleration);\r\n\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragIn(pokemon: Pokemon, slot: number) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.leftof(-100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.delay(300).anim({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 400,\r\n\t\t}, 'decel');\r\n\t\tif (!!this.scene.animating && this.sp.shiny) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.scene.timeOffset = 700;\r\n\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft + (this.isFrontSprite ? -100 : 100),\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300).animate({\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\topacity: 1,\r\n\t\t}, 400);\r\n\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragOut(pokemon: Pokemon) {\r\n\t\tif (!this.scene.animating) return this.animUnsummon(pokemon, true);\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = false;\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate(this.scene.pos({\r\n\t\t\t\tx: this.leftof(100),\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, this.subsp!), () => {\r\n\t\t\t\t$sub.remove();\r\n\t\t\t});\r\n\t\t\tthis.$sub = null;\r\n\t\t}\r\n\t\tthis.anim({\r\n\t\t\tx: this.leftof(100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t\ttime: 400,\r\n\t\t}, 'accel');\r\n\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\tleft: this.statbarLeft - (this.isFrontSprite ? -100 : 100),\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300 / this.scene.acceleration, () => {\r\n\t\t\t\t$statbar.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating || instant) {\r\n\t\t\tthis.$el.hide();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 40,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 0.7,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(50),\r\n\t\t\ttime: 700 / this.scene.acceleration,\r\n\t\t}, 'ballistic2');\r\n\t\tif (this.scene.acceleration < 3) this.scene.wait(600 / this.scene.acceleration);\r\n\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\tleft: this.statbarLeft + (this.isFrontSprite ? 50 : -50),\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300 / this.scene.acceleration, () => {\r\n\t\t\t\t$statbar.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimFaint(pokemon: Pokemon) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating) {\r\n\t\t\tthis.$el.remove();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, false, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (this.cryurl) {\r\n\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t}\r\n\t\tthis.anim({\r\n\t\t\ty: this.y - 80,\r\n\t\t\topacity: 0,\r\n\t\t}, 'accel');\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.$el.promise().done(() => {\r\n\t\t\tthis.$el.remove();\r\n\t\t});\r\n\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300, () => {\r\n\t\t\t\t$statbar.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @param pokemon\r\n\t * @param useSpeciesAnim false = Transform the move or Imposter the ability\r\n\t * @param isPermanent false = reverts on switch-out\r\n\t */\r\n\tanimTransform(pokemon: Pokemon, useSpeciesAnim?: boolean, isPermanent?: boolean) {\r\n\t\tif (!this.scene.animating && !isPermanent) return;\r\n\t\tlet sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tlet oldsp = this.sp;\r\n\t\tif (isPermanent) {\r\n\t\t\tif (pokemon.volatiles.dynamax) {\r\n\t\t\t\t// if a permanent forme change happens while dynamaxed, we need an undynamaxed sprite to go back to\r\n\t\t\t\tthis.oldsp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\t\t\tgen: this.scene.gen,\r\n\t\t\t\t\tmod: this.scene.mod,\r\n\t\t\t\t\tdynamax: false,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.oldsp = null;\r\n\t\t\t}\r\n\t\t} else if (!this.oldsp) {\r\n\t\t\tthis.oldsp = oldsp;\r\n\t\t}\r\n\t\tthis.sp = sp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\r\n\t\tif (!this.scene.animating) return;\r\n\t\tlet speciesid = toID(pokemon.getSpeciesForme());\r\n\t\tlet doCry = false;\r\n\t\tlet skipAnim = !pokemon.isActive();\r\n\t\tconst scene = this.scene;\r\n\t\tif (useSpeciesAnim && !skipAnim) {\r\n\t\t\tif (speciesid === 'kyogreprimal') {\r\n\t\t\t\tBattleOtherAnims.primalalpha.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'groudonprimal') {\r\n\t\t\t\tBattleOtherAnims.primalomega.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'necrozmaultra') {\r\n\t\t\t\tBattleOtherAnims.ultraburst.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'zygardecomplete') {\r\n\t\t\t\tBattleOtherAnims.powerconstruct.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'wishiwashischool' || speciesid === 'greninjaash') {\r\n\t\t\t\tBattleOtherAnims.schoolingin.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'wishiwashi') {\r\n\t\t\t\tBattleOtherAnims.schoolingout.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'mimikyubusted' || speciesid === 'mimikyubustedtotem' ||\r\n\t\t\t\tspeciesid === 'aegislash' || speciesid === 'aegislashblade') {\r\n\t\t\t\t// standard animation\r\n\t\t\t} else if (speciesid === 'palafinhero') {\r\n\t\t\t\tskipAnim = true;\r\n\t\t\t} else {\r\n\t\t\t\tBattleOtherAnims.megaevo.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Constructing here gives us 300ms extra time to preload the new sprite\r\n\t\tlet $newEl = $('<img src=\"' + sp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (sp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\t$newEl.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tyscale: 0,\r\n\t\t\txscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, sp));\r\n\t\tif (skipAnim) {\r\n\t\t\tthis.$el.replaceWith($newEl);\r\n\t\t\tthis.$el = $newEl;\r\n\t\t\tthis.animReset();\r\n\t\t} else {\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\txscale: 0,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, oldsp), 300, () => {\r\n\t\t\t\tif (this.cryurl && doCry) {\r\n\t\t\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$el.replaceWith($newEl);\r\n\t\t\t\tthis.$el = $newEl;\r\n\t\t\t\tthis.$el.animate(scene.pos({\r\n\t\t\t\t\tx: this.x,\r\n\t\t\t\t\ty: this.y,\r\n\t\t\t\t\tz: this.z,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, sp), 300);\r\n\t\t\t});\r\n\t\t\tthis.scene.wait(500);\r\n\t\t}\r\n\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (isPermanent) {\r\n\t\t\tthis.resetStatbar(pokemon);\r\n\t\t} else {\r\n\t\t\tthis.updateStatbar(pokemon);\r\n\t\t}\r\n\t}\r\n\r\n\tpokeEffect(id: ID) {\r\n\t\tif (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tthis.effects[id][0].anim({\r\n\t\t\t\tscale: 1.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\taddEffect(id: ID, instant?: boolean) {\r\n\t\tif (id in this.effects) {\r\n\t\t\tthis.pokeEffect(id);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst spriten = +this.isFrontSprite;\r\n\t\tif (id === 'substitute' || id === 'shedtail') {\r\n\t\t\tthis.animSub(instant);\r\n\t\t} else if (id === 'leechseed') {\r\n\t\t\tconst pos1 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x - 30,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t};\r\n\t\t\tconst pos2 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 40,\r\n\t\t\t\ty: this.y - 35,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t};\r\n\t\t\tconst pos3 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 20,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t};\r\n\r\n\t\t\tconst leechseed1 = new Sprite(BattleEffects.energyball, pos1, this.scene);\r\n\t\t\tconst leechseed2 = new Sprite(BattleEffects.energyball, pos2, this.scene);\r\n\t\t\tconst leechseed3 = new Sprite(BattleEffects.energyball, pos3, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed1.$el);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed2.$el);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed3.$el);\r\n\t\t\tthis.effects['leechseed'] = [leechseed1, leechseed2, leechseed3];\r\n\t\t} else if (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tconst protect = new Sprite(BattleEffects.protect, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(-15),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(protect.$el);\r\n\t\t\tthis.effects[id] = [protect];\r\n\t\t\tprotect.anim({\r\n\t\t\t\topacity: 0.9,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tremoveEffect(id: ID, instant?: boolean) {\r\n\t\tif (id === 'formechange') this.removeTransform();\r\n\t\tif (id === 'substitute') this.animSubFade(instant);\r\n\t\tif (this.effects[id]) {\r\n\t\t\tfor (const sprite of this.effects[id]) sprite.destroy();\r\n\t\t\tdelete this.effects[id];\r\n\t\t}\r\n\t}\r\n\tclearEffects() {\r\n\t\tfor (const id in this.effects) this.removeEffect(id as ID, true);\r\n\t\tthis.animSubFade(true);\r\n\t\tthis.removeTransform();\r\n\t}\r\n\r\n\tdogarsCheck(pokemon: Pokemon) {\r\n\t\tif (pokemon.side.isFar) return;\r\n\r\n\t\tif (pokemon.speciesForme === 'Koffing' && (/dogars/i.exec(pokemon.name))) {\r\n\t\t\tthis.scene.setBgm(-1);\r\n\t\t} else if (this.scene.bgmNum === -1) {\r\n\t\t\tthis.scene.rollBgm();\r\n\t\t}\r\n\t}\r\n\r\n\t// Statbar\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tgetClassForPosition(slot: number) {\r\n\t\t// DOUBLES: Slot0 -> left / Slot1 -> Right\r\n\t\t// TRIPLES: slot0 -> left / Slot1 -> Center / Slot2 -> Right\r\n\t\tconst position = [\r\n\t\t\t' leftstatbar',\r\n\t\t\tthis.scene.activeCount === 3 ? ' centerstatbar' : ' rightstatbar',\r\n\t\t\t' rightstatbar',\r\n\t\t];\r\n\t\treturn position[slot];\r\n\t}\r\n\r\n\tgetStatbarHTML(pokemon: Pokemon) {\r\n\t\tlet buf = '<div class=\"statbar' + (this.isFrontSprite ? ' lstatbar' : ' rstatbar') + this.getClassForPosition(pokemon.slot) + '\" style=\"display: none\">';\r\n\t\tconst ignoreNick = this.isFrontSprite && (this.scene.battle.ignoreOpponent || this.scene.battle.ignoreNicks);\r\n\t\tbuf += `<strong>${BattleLog.escapeHTML(ignoreNick ? pokemon.speciesForme : pokemon.name)}`;\r\n\t\tconst gender = pokemon.gender;\r\n\t\tif (gender === 'M' || gender === 'F') {\r\n\t\t\tbuf += ` <img src=\"${Dex.fxPrefix}gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" />`;\r\n\t\t}\r\n\t\tbuf += (pokemon.level === 100 ? `` : ` <small>L${pokemon.level}</small>`);\r\n\r\n\t\tlet symbol = '';\r\n\t\tif (pokemon.speciesForme.includes('-Mega')) symbol = 'mega';\r\n\t\telse if (pokemon.speciesForme === 'Kyogre-Primal') symbol = 'alpha';\r\n\t\telse if (pokemon.speciesForme === 'Groudon-Primal') symbol = 'omega';\r\n\t\tif (symbol) {\r\n\t\t\tbuf += ` <img src=\"${Dex.resourcePrefix}sprites/misc/${symbol}.png\" alt=\"${symbol}\" style=\"vertical-align:text-bottom;\" />`;\r\n\t\t}\r\n\t\tif (pokemon.terastallized) {\r\n\t\t\tbuf += ` <img src=\"${Dex.resourcePrefix}sprites/types/Tera${pokemon.terastallized}.png\" alt=\"Tera-${pokemon.terastallized}\" style=\"vertical-align:text-bottom;\" height=\"16\" width=\"16\" />`;\r\n\t\t}\r\n\r\n\t\tbuf += `</strong><div class=\"hpbar\"><div class=\"hptext\"></div><div class=\"hptextborder\"></div><div class=\"prevhp\"><div class=\"hp\"></div></div><div class=\"status\"></div>`;\r\n\t\tbuf += `</div>`;\r\n\t\treturn buf;\r\n\t}\r\n\r\n\tresetStatbar(pokemon: Pokemon, startHidden?: boolean) {\r\n\t\tif (this.$statbar) {\r\n\t\t\tthis.$statbar.remove();\r\n\t\t\tthis.$statbar = null as any; // workaround for TS thinking $statbar is still null after `updateStatbar`\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tif (!startHidden && this.$statbar) {\r\n\t\t\tthis.$statbar.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tleft: this.statbarLeft,\r\n\t\t\t\ttop: this.statbarTop,\r\n\t\t\t\topacity: 1,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\tif (this.$statbar) {\r\n\t\t\tthis.updateStatbar(pokemon, updatePrevhp, updateHp);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) this.$statbar.hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.$statbar) {\r\n\t\t\tthis.$statbar = $(this.getStatbarHTML(pokemon));\r\n\t\t\tthis.scene.$stat.append(this.$statbar);\r\n\t\t\tupdatePrevhp = true;\r\n\t\t}\r\n\t\tlet hpcolor;\r\n\t\tif (updatePrevhp || updateHp) {\r\n\t\t\thpcolor = BattleScene.getHPColor(pokemon);\r\n\t\t\tlet w = pokemon.hpWidth(150);\r\n\t\t\tlet $hp = this.$statbar.find('.hp');\r\n\t\t\t$hp.css({\r\n\t\t\t\twidth: w,\r\n\t\t\t\t'border-right-width': (w ? 1 : 0),\r\n\t\t\t});\r\n\t\t\tif (hpcolor === 'g') $hp.removeClass('hp-yellow hp-red');\r\n\t\t\telse if (hpcolor === 'y') $hp.removeClass('hp-red').addClass('hp-yellow');\r\n\t\t\telse $hp.addClass('hp-yellow hp-red');\r\n\t\t\tthis.updateHPText(pokemon);\r\n\t\t}\r\n\t\tif (updatePrevhp) {\r\n\t\t\tlet $prevhp = this.$statbar.find('.prevhp');\r\n\t\t\t$prevhp.css('width', pokemon.hpWidth(150) + 1);\r\n\t\t\tif (hpcolor === 'g') $prevhp.removeClass('prevhp-yellow prevhp-red');\r\n\t\t\telse if (hpcolor === 'y') $prevhp.removeClass('prevhp-red').addClass('prevhp-yellow');\r\n\t\t\telse $prevhp.addClass('prevhp-yellow prevhp-red');\r\n\t\t}\r\n\t\tlet status = '';\r\n\t\tif (pokemon.status === 'brn') {\r\n\t\t\tstatus += '<span class=\"brn\">BRN</span> ';\r\n\t\t} else if (pokemon.status === 'psn') {\r\n\t\t\tstatus += '<span class=\"psn\">PSN</span> ';\r\n\t\t} else if (pokemon.status === 'tox') {\r\n\t\t\tstatus += '<span class=\"psn\">TOX</span> ';\r\n\t\t} else if (pokemon.status === 'slp') {\r\n\t\t\tstatus += '<span class=\"slp\">SLP</span> ';\r\n\t\t} else if (pokemon.status === 'par') {\r\n\t\t\tstatus += '<span class=\"par\">PAR</span> ';\r\n\t\t} else if (pokemon.status === 'frz') {\r\n\t\t\tstatus += '<span class=\"frz\">FRZ</span> ';\r\n\t\t}\r\n\t\tif (pokemon.terastallized) {\r\n\t\t\tstatus += `<img src=\"${Dex.resourcePrefix}sprites/types/${encodeURIComponent(pokemon.terastallized)}.png\" alt=\"${pokemon.terastallized}\" class=\"pixelated\" /> `;\r\n\t\t} else if (pokemon.volatiles.typechange && pokemon.volatiles.typechange[1]) {\r\n\t\t\tconst types = pokemon.volatiles.typechange[1].split('/');\r\n\t\t\tfor (const type of types) {\r\n\t\t\t\tstatus += '<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + encodeURIComponent(type) + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> ';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (pokemon.volatiles.typeadd) {\r\n\t\t\tconst type = pokemon.volatiles.typeadd[1];\r\n\t\t\tstatus += '+<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + type + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> ';\r\n\t\t}\r\n\t\tfor (const stat in pokemon.boosts) {\r\n\t\t\tif (pokemon.boosts[stat]) {\r\n\t\t\t\tstatus += '<span class=\"' + pokemon.getBoostType(stat as Dex.BoostStatName) + '\">' + pokemon.getBoost(stat as Dex.BoostStatName) + '</span> ';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (let i in pokemon.volatiles) {\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tfor (let i in pokemon.turnstatuses) {\r\n\t\t\tif (i === 'roost' && !pokemon.getTypeList().includes('Flying')) continue;\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tfor (let i in pokemon.movestatuses) {\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tlet statusbar = this.$statbar.find('.status');\r\n\t\tstatusbar.html(status);\r\n\t}\r\n\r\n\tprivate static getEffectTag(id: string) {\r\n\t\tlet effect = PokemonSprite.statusTable[id];\r\n\t\tif (typeof effect === 'string') return effect;\r\n\t\tif (effect === null) return (PokemonSprite.statusTable[id] = '');\r\n\t\tif (effect === undefined) {\r\n\t\t\tlet label = `[[${id}]]`;\r\n\t\t\tif (Dex.species.get(id).exists) {\r\n\t\t\t\tlabel = Dex.species.get(id).name;\r\n\t\t\t} else if (Dex.items.get(id).exists) {\r\n\t\t\t\tlabel = Dex.items.get(id).name;\r\n\t\t\t} else if (Dex.moves.get(id).exists) {\r\n\t\t\t\tlabel = Dex.moves.get(id).name;\r\n\t\t\t} else if (Dex.abilities.get(id).exists) {\r\n\t\t\t\tlabel = Dex.abilities.get(id).name;\r\n\t\t\t} else if ((BattleNatures as any)[id.substr(0, 1).toUpperCase() + id.substr(1).toLowerCase()]) {\r\n\t\t\t\tlabel = id.substr(0, 1).toUpperCase() + id.substr(1).toLowerCase();\r\n\t\t\t}\r\n\t\t\teffect = [label, 'neutral'];\r\n\t\t}\r\n\t\treturn (PokemonSprite.statusTable[id] = `<span class=\"${effect[1]}\">${effect[0].replace(/ /g, '&nbsp;')}</span> `);\r\n\t}\r\n\r\n\tupdateHPText(pokemon: Pokemon) {\r\n\t\tif (!this.$statbar) return;\r\n\t\tlet $hptext = this.$statbar.find('.hptext');\r\n\t\tlet $hptextborder = this.$statbar.find('.hptextborder');\r\n\t\tif (pokemon.maxhp === 48 || this.scene.battle.hardcoreMode && pokemon.maxhp === 100) {\r\n\t\t\t$hptext.hide();\r\n\t\t\t$hptextborder.hide();\r\n\t\t} else if (this.scene.battle.hardcoreMode || this.scene.battle.reportExactHP) {\r\n\t\t\t$hptext.html(`${pokemon.hp}/`);\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t} else {\r\n\t\t\t$hptext.html(`${pokemon.hpWidth(100)}%`);\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// par: -webkit-filter:  sepia(100%) hue-rotate(373deg) saturate(592%);\r\n//      -webkit-filter:  sepia(100%) hue-rotate(22deg) saturate(820%) brightness(29%);\r\n// psn: -webkit-filter:  sepia(100%) hue-rotate(618deg) saturate(285%);\r\n// brn: -webkit-filter:  sepia(100%) hue-rotate(311deg) saturate(469%);\r\n// slp: -webkit-filter:  grayscale(100%);\r\n// frz: -webkit-filter:  sepia(100%) hue-rotate(154deg) saturate(759%) brightness(23%);\r\n\r\nObject.assign($.easing, {\r\n\tballisticUp(x: number, t: number, b: number, c: number, d: number) {\r\n\t\treturn -3 * x * x + 4 * x;\r\n\t},\r\n\tballisticDown(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (-3 * x * x + 4 * x);\r\n\t},\r\n\tquadUp(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (x * x);\r\n\t},\r\n\tquadDown(x: number, t: number, b: number, c: number, d: number) {\r\n\t\treturn x * x;\r\n\t},\r\n});\r\n\r\ninterface AnimData {\r\n\tanim(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tprepareAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tresidualAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n}\r\nexport type AnimTable = { [k: string]: AnimData };\r\n\r\nconst BattleEffects: { [k: string]: SpriteData } = {\r\n\twisp: {\r\n\t\turl: 'wisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpoisonwisp: {\r\n\t\turl: 'poisonwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\twaterwisp: {\r\n\t\turl: 'waterwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmudwisp: {\r\n\t\turl: 'mudwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tblackwisp: {\r\n\t\turl: 'blackwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tfireball: {\r\n\t\turl: 'fireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\tbluefireball: {\r\n\t\turl: 'bluefireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\ticicle: {\r\n\t\turl: 'icicle.png', // http://opengameart.org/content/icicle-spell\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tpinkicicle: {\r\n\t\turl: 'icicle-pink.png', // http://opengameart.org/content/icicle-spell, recolored by Kalalokki\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tlightning: {\r\n\t\turl: 'lightning.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 41, h: 229,\r\n\t},\r\n\trocks: {\r\n\t\turl: 'rocks.png', // Pokemon Online - Gilad\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\trock1: {\r\n\t\turl: 'rock1.png', // Pokemon Online - Gilad\r\n\t\tw: 64, h: 80,\r\n\t},\r\n\trock2: {\r\n\t\turl: 'rock2.png', // Pokemon Online - Gilad\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\trock3: {\r\n\t\turl: 'rock3.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\tleaf1: {\r\n\t\turl: 'leaf1.png',\r\n\t\tw: 32, h: 26,\r\n\t},\r\n\tleaf2: {\r\n\t\turl: 'leaf2.png',\r\n\t\tw: 40, h: 26,\r\n\t},\r\n\tbone: {\r\n\t\turl: 'bone.png',\r\n\t\tw: 29, h: 29,\r\n\t},\r\n\tcaltrop: {\r\n\t\turl: 'caltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tgreenmetal1: {\r\n\t\turl: 'greenmetal1.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tgreenmetal2: {\r\n\t\turl: 'greenmetal2.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tpoisoncaltrop: {\r\n\t\turl: 'poisoncaltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tshadowball: {\r\n\t\turl: 'shadowball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tenergyball: {\r\n\t\turl: 'energyball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\telectroball: {\r\n\t\turl: 'electroball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmistball: {\r\n\t\turl: 'mistball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\ticeball: {\r\n\t\turl: 'iceball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tflareball: {\r\n\t\turl: 'flareball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmoon: {\r\n\t\turl: 'moon.png', // by Kalalokki\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpokeball: {\r\n\t\turl: 'pokeball.png',\r\n\t\tw: 24, h: 24,\r\n\t},\r\n\tfist: {\r\n\t\turl: 'fist.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 55, h: 49,\r\n\t},\r\n\tfist1: {\r\n\t\turl: 'fist1.png',\r\n\t\tw: 49, h: 55,\r\n\t},\r\n\tfoot: {\r\n\t\turl: 'foot.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 50, h: 75,\r\n\t},\r\n\ttopbite: {\r\n\t\turl: 'topbite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tbottombite: {\r\n\t\turl: 'bottombite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tweb: {\r\n\t\turl: 'web.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 120, h: 122,\r\n\t},\r\n\tleftclaw: {\r\n\t\turl: 'leftclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\trightclaw: {\r\n\t\turl: 'rightclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\tleftslash: {\r\n\t\turl: 'leftslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\trightslash: {\r\n\t\turl: 'rightslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\tleftchop: {\r\n\t\turl: 'leftchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\trightchop: {\r\n\t\turl: 'rightchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\tangry: {\r\n\t\turl: 'angry.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\theart: {\r\n\t\turl: 'heart.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\tpointer: {\r\n\t\turl: 'pointer.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tsword: {\r\n\t\turl: 'sword.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 48, h: 100,\r\n\t},\r\n\timpact: {\r\n\t\turl: 'impact.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tstare: {\r\n\t\turl: 'stare.png',\r\n\t\tw: 100, h: 35,\r\n\t},\r\n\tshine: {\r\n\t\turl: 'shine.png', // by Smogon user Jajoken\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tfeather: {\r\n\t\turl: 'feather.png', // Ripped from http://www.clker.com/clipart-black-and-white-feather.html\r\n\t\tw: 100, h: 38,\r\n\t},\r\n\tshell: {\r\n\t\turl: 'shell.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 91.5,\r\n\t},\r\n\tpetal: {\r\n\t\turl: 'petal.png', // by Smogon user Jajoken\r\n\t\tw: 60, h: 60,\r\n\t},\r\n\tgear: {\r\n\t\turl: 'gear.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\talpha: {\r\n\t\turl: 'alpha.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tomega: {\r\n\t\turl: 'omega.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\trainbow: {\r\n\t\turl: 'rainbow.png',\r\n\t\tw: 128, h: 128,\r\n\t},\r\n\tzsymbol: {\r\n\t\turl: 'z-symbol.png', // From http://froggybutt.deviantart.com/art/Pokemon-Z-Move-symbol-633125033\r\n\t\tw: 150, h: 100,\r\n\t},\r\n\tultra: {\r\n\t\turl: 'ultra.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 113, h: 165,\r\n\t},\r\n\thitmark: {\r\n\t\turl: 'hitmarker.png', // by Pokemon Showdown user Ridaz\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tprotect: {\r\n\t\trawHTML: '<div class=\"turnstatus-protect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 70,\r\n\t},\r\n\tauroraveil: {\r\n\t\trawHTML: '<div class=\"sidecondition-auroraveil\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\treflect: {\r\n\t\trawHTML: '<div class=\"sidecondition-reflect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tsafeguard: {\r\n\t\trawHTML: '<div class=\"sidecondition-safeguard\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tlightscreen: {\r\n\t\trawHTML: '<div class=\"sidecondition-lightscreen\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tmist: {\r\n\t\trawHTML: '<div class=\"sidecondition-mist\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n};\r\n(() => {\r\n\tif (!window.Dex || !Dex.resourcePrefix) return;\r\n\tfor (const id in BattleEffects) {\r\n\t\tif (!BattleEffects[id].url) continue;\r\n\t\tBattleEffects[id].url = Dex.fxPrefix + BattleEffects[id].url;\r\n\t}\r\n})();\r\nconst BattleBackdropsThree = [\r\n\t'bg-gen3.png',\r\n\t'bg-gen3-cave.png',\r\n\t'bg-gen3-ocean.png',\r\n\t'bg-gen3-sand.png',\r\n\t'bg-gen3-forest.png',\r\n\t'bg-gen3-arena.png',\r\n];\r\nconst BattleBackdropsFour = [\r\n\t'bg-gen4.png',\r\n\t'bg-gen4-cave.png',\r\n\t'bg-gen4-snow.png',\r\n\t'bg-gen4-indoors.png',\r\n\t'bg-gen4-water.png',\r\n];\r\nconst BattleBackdropsFive = [\r\n\t'bg-beach.png',\r\n\t'bg-beachshore.png',\r\n\t'bg-desert.png',\r\n\t'bg-meadow.png',\r\n\t'bg-thunderplains.png',\r\n\t'bg-city.png',\r\n\t'bg-earthycave.png',\r\n\t'bg-mountain.png',\r\n\t'bg-volcanocave.png',\r\n\t'bg-dampcave.png',\r\n\t'bg-forest.png',\r\n\t'bg-river.png',\r\n\t'bg-deepsea.png',\r\n\t'bg-icecave.png',\r\n\t'bg-route.png',\r\n];\r\nconst BattleBackdrops = [\r\n\t'bg-aquacordetown.jpg',\r\n\t'bg-beach.jpg',\r\n\t'bg-city.jpg',\r\n\t'bg-dampcave.jpg',\r\n\t'bg-darkbeach.jpg',\r\n\t'bg-darkcity.jpg',\r\n\t'bg-darkmeadow.jpg',\r\n\t'bg-deepsea.jpg',\r\n\t'bg-desert.jpg',\r\n\t'bg-earthycave.jpg',\r\n\t'bg-elite4drake.jpg',\r\n\t'bg-forest.jpg',\r\n\t'bg-icecave.jpg',\r\n\t'bg-leaderwallace.jpg',\r\n\t'bg-library.jpg',\r\n\t'bg-meadow.jpg',\r\n\t'bg-orasdesert.jpg',\r\n\t'bg-orassea.jpg',\r\n\t'bg-skypillar.jpg',\r\n];\r\n\r\nexport const BattleOtherAnims: AnimTable = {\r\n\thitmark: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('hitmark', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(40),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tcontactattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\txattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear');\r\n\t\t\tdefender.delay(480);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballisticUp');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t},\r\n\t},\r\n\tslashattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\r\n\t\t\tscene.showEffect('rightslash', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tclawattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballisticUp');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\r\n\t\t\tscene.showEffect('leftclaw', {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('leftclaw', {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tpunchattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fist', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-20),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 50,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tdefender.delay(425);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.leftof(-15),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(15),\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tbite: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('topbite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('bottombite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tkick: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('foot', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.behind(15),\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tfastattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 260,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 560,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 310,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 610,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 300,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, 'accel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.x,\r\n\t\t\t\tz: defender.behind(100),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.behind(70),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.delay(260);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tfastanimattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tz: attacker.behind(-70),\r\n\t\t\t\ttime: 50,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'accel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimspecial: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimself: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tsneakattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-20),\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.behind(-20),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-120),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(40),\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-5),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tdefender.delay(330);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tspinattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 60,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\tbound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 550,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.behind(10),\r\n\t\t\t\tyscale: 1.3,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.delay(25);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-10),\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.behind(5),\r\n\t\t\t\tyscale: 1.3,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tselfstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tlightstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tchargestatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\theal: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y + 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 40,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 25,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 25,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tshiny: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 800, 0.3, 100);\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 5,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 35,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 675,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 475,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 25,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 25,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 725,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 550,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 775,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 650,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 35,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 875,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 5,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 675,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tflight: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-200),\r\n\t\t\t\ty: attacker.y + 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-200),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(100),\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 175,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.behind(40),\r\n\t\t\t\ttime: 1,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.delay(700);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tshake: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({ x: attacker.x - 10, time: 200 });\r\n\t\t\tattacker.anim({ x: attacker.x + 10, time: 300 });\r\n\t\t\tattacker.anim({ x: attacker.x, time: 200 });\r\n\t\t},\r\n\t},\r\n\tdance: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({ x: attacker.x - 10 });\r\n\t\t\tattacker.anim({ x: attacker.x + 10 });\r\n\t\t\tattacker.anim({ x: attacker.x });\r\n\t\t},\r\n\t},\r\n\tconsume: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.leftof(-25),\r\n\t\t\t\ty: defender.y + 40,\r\n\t\t\t\tz: defender.behind(-20),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-15),\r\n\t\t\t\ty: defender.y + 35,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'swing', 'fade');\r\n\r\n\t\t\tdefender.delay(400);\r\n\t\t\tdefender.anim({\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tyscale: 1.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tyscale: 1.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tleech: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 500,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y - 35,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 550,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 600,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tdrain: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 500,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 550,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 600,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\thydroshot: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 10,\r\n\t\t\t\ty: defender.y - 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t},\r\n\t},\r\n\tsound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tgravity: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tyscale: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.delay(200);\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tfuturesighthit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#AA44BB', 250, 0.6);\r\n\t\t\tscene.backgroundEffect('#AA44FF', 250, 0.6, 400);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1.2,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1.4,\r\n\t\t\t\ttime: 150,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1,\r\n\t\t\t\ttime: 150,\r\n\t\t\t});\r\n\t\t\tscene.wait(700);\r\n\t\t},\r\n\t},\r\n\tdoomdesirehit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#ffffff', 600, 0.6);\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x - 40,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tdefender.delay(100);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\titemoff: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('pokeball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 40,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2');\r\n\t\t},\r\n\t},\r\n\tanger: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tbidecharge: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tbideunleash: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x - 40,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x + 10,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tspectralthiefboost: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 30%, #440044', 1400, 0.5);\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 30,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.5,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 4,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 50,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\txscale: 3.5,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\txscale: 3.5,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 35,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x - 35,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, 'accel');\r\n\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 950,\r\n\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\txscale: 0.5,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 4,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 35,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x - 35,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1150,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 950,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1350,\r\n\t\t\t}, 'decel');\r\n\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 75,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 75,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tschoolingin: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tschoolingout: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tprimalalpha: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 500, 0.4);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('alpha', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tprimalomega: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#390000 30%, #B84038)', 500, 0.4);\r\n\t\t\tscene.showEffect('flareball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('flareball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('omega', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tmegaevo: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#835BA5', 500, 0.6);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('mistball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rainbow', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tzpower: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 20%, #0000DD)', 1800, 0.4);\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('zsymbol', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1400,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1600,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tpowerconstruct: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tlet xf = [1, -1, 1, -1];\r\n\t\t\tlet yf = [1, -1, -1, 1];\r\n\t\t\tlet xf2 = [1, 0, -1, 0];\r\n\t\t\tlet yf2 = [0, 1, 0, -1];\r\n\r\n\t\t\tscene.backgroundEffect('#000000', 1000, 0.7);\r\n\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 150 * xf[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 70 * yf[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 200 * xf2[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 90 * yf2[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 50 * xf[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 100 * yf[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t\ttime: 200,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 100 * xf2[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 90 * yf2[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t\ttime: 200,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t}\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t},\r\n\t},\r\n\tultraburst: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 600, 0.5);\r\n\t\t\tscene.backgroundEffect('#ffffff', 500, 1, 550);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.25,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.25,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('ultra', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.25,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 6,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.25,\r\n\t\t\t\tyscale: 0.75,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 6,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n};\r\nexport const BattleStatusAnims: AnimTable = {\r\n\tbrn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y - 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing', 'fade');\r\n\t\t},\r\n\t},\r\n\tpsn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t},\r\n\t},\r\n\tslp: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tpar: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tattacker.delay(100);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfrz: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 650,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tflinch: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattracted: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tcursed: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 700, 0.2);\r\n\t\t\tattacker.delay(300);\r\n\t\t\tattacker.anim({ x: attacker.x - 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x + 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x - 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x + 5, time: 50 });\r\n\t\t\tattacker.anim({ x: attacker.x, time: 50 });\r\n\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(20),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tconfused: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tconfusedselfhit: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.delay(50);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(2),\r\n\t\t\t\tz: attacker.behind(5),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n};\r\nBattleStatusAnims['focuspunch'] = { anim: BattleStatusAnims['flinch'].anim };\r\n"],
  "mappings": "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",
  "names": []
}
