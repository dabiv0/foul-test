{
  "version": 3,
  "sources": ["../../../client/src/battle-text-parser.ts"],
  "sourcesContent": ["/**\r\n * Text parser\r\n *\r\n * No dependencies\r\n * Optional dependency: BattleText\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\n\r\nimport { toID, type ID } from \"./battle-dex\";\r\n\r\nexport type Args = [string, ...string[]];\r\nexport type KWArgs = { [kw: string]: string };\r\nexport type SideID = 'p1' | 'p2' | 'p3' | 'p4';\r\n\r\nexport class BattleTextParser {\r\n\t/** escaped for string.replace */\r\n\tp1 = \"Player 1\";\r\n\t/** escaped for string.replace */\r\n\tp2 = \"Player 2\";\r\n\t/** escaped for string.replace */\r\n\tp3 = \"Player 3\";\r\n\t/** escaped for string.replace */\r\n\tp4 = \"Player 4\";\r\n\tperspective: SideID;\r\n\tgen = 9;\r\n\tturn = 0;\r\n\tcurLineSection: 'break' | 'preMajor' | 'major' | 'postMajor' = 'break';\r\n\tlowercaseRegExp: RegExp | null | undefined = undefined;\r\n\r\n\tconstructor(perspective: SideID = 'p1') {\r\n\t\tthis.perspective = perspective;\r\n\t}\r\n\r\n\tstatic parseLine(line: string, noDefault: true): Args | null;\r\n\tstatic parseLine(line: string): Args;\r\n\tstatic parseLine(line: string, noDefault?: boolean): Args | null {\r\n\t\tif (!line.startsWith('|')) {\r\n\t\t\treturn ['', line];\r\n\t\t}\r\n\t\tif (line === '|') {\r\n\t\t\treturn ['done'];\r\n\t\t}\r\n\t\tconst index = line.indexOf('|', 1);\r\n\t\tconst cmd = line.slice(1, index);\r\n\t\tswitch (cmd) {\r\n\t\tcase 'chatmsg': case 'chatmsg-raw': case 'raw': case 'error': case 'html':\r\n\t\tcase 'inactive': case 'inactiveoff': case 'warning':\r\n\t\tcase 'fieldhtml': case 'controlshtml': case 'pagehtml': case 'bigerror':\r\n\t\tcase 'debug': case 'tier': case 'challstr': case 'popup': case '':\r\n\t\t\treturn [cmd, line.slice(index + 1)];\r\n\t\tcase 'c': case 'chat': case 'uhtml': case 'uhtmlchange': case 'queryresponse': case 'showteam':\r\n\t\t\t// three parts\r\n\t\t\tconst index2a = line.indexOf('|', index + 1);\r\n\t\t\treturn [cmd, line.slice(index + 1, index2a), line.slice(index2a + 1)];\r\n\t\tcase 'c:': case 'pm':\r\n\t\t\t// four parts\r\n\t\t\tconst index2b = line.indexOf('|', index + 1);\r\n\t\t\tconst index3b = line.indexOf('|', index2b + 1);\r\n\t\t\treturn [cmd, line.slice(index + 1, index2b), line.slice(index2b + 1, index3b), line.slice(index3b + 1)];\r\n\t\t}\r\n\t\tif (noDefault) return null;\r\n\t\treturn line.slice(1).split('|') as [string, ...string[]];\r\n\t}\r\n\r\n\tstatic parseBattleLine(line: string): { args: Args, kwArgs: KWArgs } {\r\n\t\tlet args = this.parseLine(line, true);\r\n\t\tif (args) return { args, kwArgs: {} };\r\n\r\n\t\targs = line.slice(1).split('|') as [string, ...string[]];\r\n\t\tconst kwArgs: KWArgs = {};\r\n\t\twhile (args.length > 1) {\r\n\t\t\tconst lastArg = args[args.length - 1];\r\n\t\t\tif (!lastArg.startsWith('[')) break;\r\n\t\t\tconst bracketPos = lastArg.indexOf(']');\r\n\t\t\tif (bracketPos <= 0) break;\r\n\t\t\t// default to '.' so it evaluates to boolean true\r\n\t\t\tkwArgs[lastArg.slice(1, bracketPos)] = lastArg.slice(bracketPos + 1).trim() || '.';\r\n\t\t\targs.pop();\r\n\t\t}\r\n\t\treturn BattleTextParser.upgradeArgs({ args, kwArgs });\r\n\t}\r\n\r\n\tstatic parseNameParts(text: string) {\r\n\t\tlet group = '';\r\n\t\t// names can't start with a symbol\r\n\t\tif (!/[A-Za-z0-9]/.test(text.charAt(0))) {\r\n\t\t\tgroup = text.charAt(0);\r\n\t\t\ttext = text.slice(1);\r\n\t\t}\r\n\r\n\t\tlet name = text;\r\n\t\tconst atIndex = text.indexOf('@');\r\n\t\tlet status = '';\r\n\t\tlet away = false;\r\n\t\tif (atIndex > 0) {\r\n\t\t\tname = text.slice(0, atIndex);\r\n\t\t\tstatus = text.slice(atIndex + 1);\r\n\t\t\tif (status.startsWith('!')) {\r\n\t\t\t\taway = true;\r\n\t\t\t\tstatus = status.slice(1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { group, name, away, status };\r\n\t}\r\n\r\n\t/**\r\n\t * Old replays may use syntax we no longer use, so this function upgrades\r\n\t * them to modern versions. Used to keep battle.ts itself cleaner. Not\r\n\t * guaranteed to mutate or not mutate its inputs.\r\n\t */\r\n\tstatic upgradeArgs({ args, kwArgs }: { args: Args, kwArgs: KWArgs }): { args: Args, kwArgs: KWArgs } {\r\n\t\tswitch (args[0]) {\r\n\t\tcase '-activate': {\r\n\t\t\tif (kwArgs.item || kwArgs.move || kwArgs.number || kwArgs.ability) return { args, kwArgs };\r\n\t\t\tlet [, pokemon, effect, arg3, arg4] = args;\r\n\t\t\tlet target = kwArgs.of;\r\n\t\t\tconst id = BattleTextParser.effectId(effect);\r\n\r\n\t\t\tif (kwArgs.block) return { args: ['-fail', pokemon], kwArgs };\r\n\r\n\t\t\tif (id === 'wonderguard') return { args: ['-immune', pokemon], kwArgs: { from: 'ability:Wonder Guard' } };\r\n\r\n\t\t\tif (id === 'beatup' && kwArgs.of) return { args, kwArgs: { name: kwArgs.of } };\r\n\r\n\t\t\tif ([\r\n\t\t\t\t'ingrain', 'quickguard', 'wideguard', 'craftyshield', 'matblock', 'protect', 'mist', 'safeguard',\r\n\t\t\t\t'electricterrain', 'mistyterrain', 'psychicterrain', 'telepathy', 'stickyhold', 'suctioncups', 'aromaveil',\r\n\t\t\t\t'flowerveil', 'sweetveil', 'disguise', 'safetygoggles', 'protectivepads',\r\n\t\t\t].includes(id)) {\r\n\t\t\t\tif (target) {\r\n\t\t\t\t\tkwArgs.of = pokemon;\r\n\t\t\t\t\treturn { args: ['-block', target, effect, arg3], kwArgs };\r\n\t\t\t\t}\r\n\t\t\t\treturn { args: ['-block', pokemon, effect, arg3], kwArgs };\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'charge') {\r\n\t\t\t\treturn { args: ['-singlemove', pokemon, effect], kwArgs: { of: target } };\r\n\t\t\t}\r\n\t\t\tif ([\r\n\t\t\t\t'bind', 'wrap', 'clamp', 'whirlpool', 'firespin', 'magmastorm', 'sandtomb', 'infestation', 'snaptrap', 'thundercage', 'trapped',\r\n\t\t\t].includes(id)) {\r\n\t\t\t\treturn { args: ['-start', pokemon, effect], kwArgs: { of: target } };\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'fairylock') {\r\n\t\t\t\treturn { args: ['-fieldactivate', effect], kwArgs: {} };\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'symbiosis' || id === 'poltergeist') {\r\n\t\t\t\tkwArgs.item = arg3;\r\n\t\t\t} else if (id === 'magnitude') {\r\n\t\t\t\tkwArgs.number = arg3;\r\n\t\t\t} else if (id === 'skillswap' || id === 'mummy' || id === 'lingeringaroma' || id === 'wanderingspirit') {\r\n\t\t\t\tkwArgs.ability = arg3;\r\n\t\t\t\tkwArgs.ability2 = arg4;\r\n\t\t\t} else if ([\r\n\t\t\t\t'eeriespell', 'gmaxdepletion', 'spite', 'grudge', 'forewarn', 'sketch', 'leppaberry', 'mysteryberry',\r\n\t\t\t].includes(id)) {\r\n\t\t\t\tkwArgs.move = arg3;\r\n\t\t\t\tkwArgs.number = arg4;\r\n\t\t\t}\r\n\t\t\targs = ['-activate', pokemon, effect, target || ''];\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-fail': {\r\n\t\t\tif (kwArgs.from === 'ability: Flower Veil') {\r\n\t\t\t\treturn { args: ['-block', kwArgs.of, 'ability: Flower Veil'], kwArgs: { of: args[1] } };\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-start': {\r\n\t\t\tif (kwArgs.from === 'Protean' || kwArgs.from === 'Color Change') kwArgs.from = 'ability:' + kwArgs.from;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'move': {\r\n\t\t\tif (kwArgs.from === 'Magic Bounce') kwArgs.from = 'ability:Magic Bounce';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'cant': {\r\n\t\t\tlet [, pokemon, effect, move] = args;\r\n\t\t\tif (['ability: Damp', 'ability: Dazzling', 'ability: Queenly Majesty', 'ability: Armor Tail'].includes(effect)) {\r\n\t\t\t\targs[0] = '-block';\r\n\t\t\t\treturn { args: ['-block', pokemon, effect, move, kwArgs.of], kwArgs: {} };\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-heal': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (['dryskin', 'eartheater', 'voltabsorb', 'waterabsorb'].includes(id)) kwArgs.of = '';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-restoreboost': {\r\n\t\t\targs[0] = '-clearnegativeboost';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-weather': {\r\n\t\t\tif (args[1] === 'Snow') args[1] = 'Snowscape';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase '-nothing':\r\n\t\t\t// OLD: |-nothing\r\n\t\t\t// NEW: |-activate||move:Splash\r\n\t\t\treturn { args: ['-activate', '', 'move:Splash'], kwArgs };\r\n\t\t}\r\n\t\treturn { args, kwArgs };\r\n\t}\r\n\r\n\textractMessage(buf: string) {\r\n\t\tlet out = '';\r\n\t\tfor (const line of buf.split('\\n')) {\r\n\t\t\tconst { args, kwArgs } = BattleTextParser.parseBattleLine(line);\r\n\t\t\tout += this.parseArgs(args, kwArgs) || '';\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tfixLowercase(input: string) {\r\n\t\tif (this.lowercaseRegExp === undefined) {\r\n\t\t\tconst prefixes = ['pokemon', 'opposingPokemon', 'team', 'opposingTeam', 'party', 'opposingParty'].map(templateId => {\r\n\t\t\t\tconst template = BattleText.default[templateId];\r\n\t\t\t\tif (template.startsWith(template.charAt(0).toUpperCase())) return '';\r\n\t\t\t\tconst bracketIndex = template.indexOf('[');\r\n\t\t\t\tif (bracketIndex >= 0) return template.slice(0, bracketIndex);\r\n\t\t\t\treturn template;\r\n\t\t\t}).filter(prefix => prefix);\r\n\t\t\tif (prefixes.length) {\r\n\t\t\t\tlet buf = `((?:^|\\n)(?:  |  \\\\(|\\\\[)?)(` +\r\n\t\t\t\t\tprefixes.map(BattleTextParser.escapeRegExp).join('|') +\r\n\t\t\t\t\t`)`;\r\n\t\t\t\tthis.lowercaseRegExp = new RegExp(buf, 'g');\r\n\t\t\t} else {\r\n\t\t\t\tthis.lowercaseRegExp = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!this.lowercaseRegExp) return input;\r\n\t\treturn input.replace(this.lowercaseRegExp, (match, p1, p2) => (\r\n\t\t\tp1 + p2.charAt(0).toUpperCase() + p2.slice(1)\r\n\t\t));\r\n\t}\r\n\r\n\tstatic escapeRegExp(input: string) {\r\n\t\treturn input.replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&');\r\n\t}\r\n\tstatic escapeReplace(input: string) {\r\n\t\treturn input.replace(/\\$/g, '$$$$');\r\n\t}\r\n\r\n\t/** Returns a pokemon name escaped for passing into the second argument of string.replace */\r\n\tpokemonName = (pokemon: string) => {\r\n\t\tif (!pokemon) return '';\r\n\t\tif (!pokemon.startsWith('p')) return `???pokemon:${pokemon}???`;\r\n\t\tif (pokemon.charAt(3) === ':') return BattleTextParser.escapeReplace(pokemon.slice(4).trim());\r\n\t\telse if (pokemon.charAt(2) === ':') return BattleTextParser.escapeReplace(pokemon.slice(3).trim());\r\n\t\treturn `???pokemon:${pokemon}???`;\r\n\t};\r\n\r\n\t/** Returns a string escaped for passing into the second argument of string.replace */\r\n\tpokemon(pokemon: string) {\r\n\t\tif (!pokemon) return '';\r\n\t\tlet side = pokemon.slice(0, 2);\r\n\t\tif (!['p1', 'p2', 'p3', 'p4'].includes(side)) return `???pokemon:${pokemon}???`;\r\n\t\tconst name = this.pokemonName(pokemon);\r\n\t\tconst isNear = side === this.perspective || side === BattleTextParser.allyID(side as SideID);\r\n\t\tconst template = BattleText.default[isNear ? 'pokemon' : 'opposingPokemon'];\r\n\t\treturn template.replace('[NICKNAME]', name).replace(/\\$/g, '$$$$');\r\n\t}\r\n\r\n\t/** Returns a string escaped for passing into the second argument of string.replace */\r\n\tpokemonFull(pokemon: string, details: string): [string, string] {\r\n\t\tconst nickname = this.pokemonName(pokemon);\r\n\r\n\t\tconst species = details.split(',')[0];\r\n\t\tif (nickname === species) return [pokemon.slice(0, 2), `**${species}**`];\r\n\t\treturn [pokemon.slice(0, 2), `${nickname} (**${species}**)`];\r\n\t}\r\n\r\n\ttrainer(side: string) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === 'p1') return this.p1;\r\n\t\tif (side === 'p2') return this.p2;\r\n\t\tif (side === 'p3') return this.p3;\r\n\t\tif (side === 'p4') return this.p4;\r\n\t\treturn `???side:${side}???`;\r\n\t}\r\n\r\n\tstatic allyID(sideid: SideID): SideID | '' {\r\n\t\tif (sideid === 'p1') return 'p3';\r\n\t\tif (sideid === 'p2') return 'p4';\r\n\t\tif (sideid === 'p3') return 'p1';\r\n\t\tif (sideid === 'p4') return 'p2';\r\n\t\treturn '';\r\n\t}\r\n\r\n\tteam(side: string, isFar = false) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === this.perspective || side === BattleTextParser.allyID(side as SideID)) {\r\n\t\t\treturn !isFar ? BattleText.default.team : BattleText.default.opposingTeam;\r\n\t\t}\r\n\t\treturn isFar ? BattleText.default.team : BattleText.default.opposingTeam;\r\n\t}\r\n\r\n\town(side: string) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === this.perspective) {\r\n\t\t\treturn 'OWN';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\tparty(side: string) {\r\n\t\tside = side.slice(0, 2);\r\n\t\tif (side === this.perspective || side === BattleTextParser.allyID(side as SideID)) {\r\n\t\t\treturn BattleText.default.party;\r\n\t\t}\r\n\t\treturn BattleText.default.opposingParty;\r\n\t}\r\n\r\n\tstatic effectId(effect?: string) {\r\n\t\tif (!effect) return '';\r\n\t\tif (effect.startsWith('item:') || effect.startsWith('move:')) {\r\n\t\t\teffect = effect.slice(5);\r\n\t\t} else if (effect.startsWith('ability:')) {\r\n\t\t\teffect = effect.slice(8);\r\n\t\t}\r\n\t\treturn toID(effect);\r\n\t}\r\n\r\n\teffect(effect?: string) {\r\n\t\tif (!effect) return '';\r\n\t\tif (effect.startsWith('item:') || effect.startsWith('move:')) {\r\n\t\t\teffect = effect.slice(5);\r\n\t\t} else if (effect.startsWith('ability:')) {\r\n\t\t\teffect = effect.slice(8);\r\n\t\t}\r\n\t\treturn effect.trim();\r\n\t}\r\n\r\n\ttemplate(type: string, ...namespaces: (string | undefined)[]) {\r\n\t\tfor (const namespace of namespaces) {\r\n\t\t\tif (!namespace) continue;\r\n\t\t\tif (namespace === 'OWN') {\r\n\t\t\t\treturn BattleText.default[type + 'Own'] + '\\n';\r\n\t\t\t}\r\n\t\t\tif (namespace === 'NODEFAULT') {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tlet id = BattleTextParser.effectId(namespace);\r\n\t\t\tif (BattleText[id] && type in BattleText[id]) {\r\n\t\t\t\tif (BattleText[id][type].charAt(1) === '.') type = BattleText[id][type].slice(2) as ID;\r\n\t\t\t\tif (BattleText[id][type].startsWith('#')) id = BattleText[id][type].slice(1) as ID;\r\n\t\t\t\tif (!BattleText[id][type]) return '';\r\n\t\t\t\treturn BattleText[id][type] + '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!BattleText.default[type]) return '';\r\n\t\treturn BattleText.default[type] + '\\n';\r\n\t}\r\n\r\n\tmaybeAbility(effect: string | undefined, holder: string) {\r\n\t\tif (!effect) return '';\r\n\t\tif (!effect.startsWith('ability:')) return '';\r\n\t\treturn this.ability(effect.slice(8).trim(), holder);\r\n\t}\r\n\r\n\tability(name: string | undefined, holder: string) {\r\n\t\tif (!name) return '';\r\n\t\treturn BattleText.default.abilityActivation.replace('[POKEMON]', this.pokemon(holder)).replace('[ABILITY]', this.effect(name)) + '\\n';\r\n\t}\r\n\r\n\tstatic stat(stat: string) {\r\n\t\tconst entry = BattleText[stat || \"stats\"];\r\n\t\tif (!entry?.statName) return `???stat:${stat}???`;\r\n\t\treturn entry.statName;\r\n\t}\r\n\r\n\tlineSection(args: Args, kwArgs: KWArgs) {\r\n\t\tif (kwArgs.premajor) return 'preMajor';\r\n\t\tif (kwArgs.postmajor) return 'postMajor';\r\n\t\tif (kwArgs.major) return 'major';\r\n\r\n\t\tconst cmd = args[0];\r\n\t\tswitch (cmd) {\r\n\t\tcase 'done' : case 'turn':\r\n\t\t\treturn 'break';\r\n\t\tcase 'move' : case 'cant': case 'switch': case 'drag': case 'upkeep': case 'start':\r\n\t\tcase '-mega': case '-candynamax': case '-terastallize':\r\n\t\t\treturn 'major';\r\n\t\tcase 'switchout': case 'faint':\r\n\t\t\treturn 'preMajor';\r\n\t\tcase '-zpower':\r\n\t\t\treturn 'postMajor';\r\n\t\tcase '-damage': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'confusion') return 'major';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\tcase '-curestatus': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'naturalcure') return 'preMajor';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\tcase '-start': {\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'protean') return 'preMajor';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\tcase '-activate': {\r\n\t\t\tconst id = BattleTextParser.effectId(args[2]);\r\n\t\t\tif (id === 'confusion' || id === 'attract') return 'preMajor';\r\n\t\t\treturn 'postMajor';\r\n\t\t}\r\n\t\t}\r\n\t\treturn (cmd.startsWith('-') ? 'postMajor' : '');\r\n\t}\r\n\r\n\tsectionBreak(args: Args, kwArgs: KWArgs) {\r\n\t\tconst prevSection = this.curLineSection;\r\n\t\tconst curSection = this.lineSection(args, kwArgs);\r\n\t\tif (!curSection) return false;\r\n\t\tthis.curLineSection = curSection;\r\n\t\tswitch (curSection) {\r\n\t\tcase 'break':\r\n\t\t\tif (prevSection !== 'break') return true;\r\n\t\t\treturn false;\r\n\t\tcase 'preMajor':\r\n\t\tcase 'major':\r\n\t\t\tif (prevSection === 'postMajor' || prevSection === 'major') return true;\r\n\t\t\treturn false;\r\n\t\tcase 'postMajor':\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tparseArgs(args: Args, kwArgs: KWArgs, noSectionBreak?: boolean) {\r\n\t\tlet buf = !noSectionBreak && this.sectionBreak(args, kwArgs) ? '\\n' : '';\r\n\t\treturn buf + this.fixLowercase(this.parseArgsInner(args, kwArgs) || '');\r\n\t}\r\n\r\n\tparseArgsInner(args: Args, kwArgs: KWArgs) {\r\n\t\tlet cmd = args[0];\r\n\t\tswitch (cmd) {\r\n\t\tcase 'player': {\r\n\t\t\tconst [, side, name] = args;\r\n\t\t\tif (side === 'p1' && name) {\r\n\t\t\t\tthis.p1 = BattleTextParser.escapeReplace(name);\r\n\t\t\t} else if (side === 'p2' && name) {\r\n\t\t\t\tthis.p2 = BattleTextParser.escapeReplace(name);\r\n\t\t\t} else if (side === 'p3' && name) {\r\n\t\t\t\tthis.p3 = BattleTextParser.escapeReplace(name);\r\n\t\t\t} else if (side === 'p4' && name) {\r\n\t\t\t\tthis.p4 = BattleTextParser.escapeReplace(name);\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tcase 'gen': {\r\n\t\t\tconst [, num] = args;\r\n\t\t\tthis.gen = parseInt(num, 10);\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tcase 'turn': {\r\n\t\t\tconst [, num] = args;\r\n\t\t\tthis.turn = Number.parseInt(num, 10);\r\n\t\t\treturn this.template('turn').replace('[NUMBER]', num) + '\\n';\r\n\t\t}\r\n\r\n\t\tcase 'start': {\r\n\t\t\treturn this.template('startBattle').replace('[TRAINER]', this.p1).replace('[TRAINER]', this.p2);\r\n\t\t}\r\n\r\n\t\tcase 'win': case 'tie': {\r\n\t\t\tconst [, name] = args;\r\n\t\t\tif (cmd === 'tie' || !name) {\r\n\t\t\t\treturn this.template('tieBattle').replace('[TRAINER]', this.p1).replace('[TRAINER]', this.p2);\r\n\t\t\t}\r\n\t\t\treturn this.template('winBattle').replace('[TRAINER]', name);\r\n\t\t}\r\n\r\n\t\tcase 'switch': {\r\n\t\t\tconst [, pokemon, details] = args;\r\n\t\t\tconst [side, fullname] = this.pokemonFull(pokemon, details);\r\n\t\t\tconst template = this.template('switchIn', this.own(side));\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side)).replace('[FULLNAME]', fullname);\r\n\t\t}\r\n\r\n\t\tcase 'drag': {\r\n\t\t\tconst [, pokemon, details] = args;\r\n\t\t\tconst [side, fullname] = this.pokemonFull(pokemon, details);\r\n\t\t\tconst template = this.template('drag');\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side)).replace('[FULLNAME]', fullname);\r\n\t\t}\r\n\r\n\t\tcase 'detailschange': case '-transform': case '-formechange': {\r\n\t\t\tconst [, pokemon, arg2, arg3] = args;\r\n\t\t\tlet newSpecies = '';\r\n\t\t\tswitch (cmd) {\r\n\t\t\tcase 'detailschange': newSpecies = arg2.split(',')[0].trim(); break;\r\n\t\t\tcase '-transform': newSpecies = arg3; break;\r\n\t\t\tcase '-formechange': newSpecies = arg2; break;\r\n\t\t\t}\r\n\t\t\tlet newSpeciesId = toID(newSpecies);\r\n\t\t\tlet id = '';\r\n\t\t\tlet templateName = 'transform';\r\n\t\t\tif (cmd !== '-transform') {\r\n\t\t\t\tswitch (newSpeciesId) {\r\n\t\t\t\tcase 'greninjaash': id = 'battlebond'; break;\r\n\t\t\t\tcase 'mimikyubusted': id = 'disguise'; break;\r\n\t\t\t\tcase 'zygardecomplete': id = 'powerconstruct'; break;\r\n\t\t\t\tcase 'necrozmaultra': id = 'ultranecroziumz'; break;\r\n\t\t\t\tcase 'darmanitanzen': id = 'zenmode'; break;\r\n\t\t\t\tcase 'darmanitan': id = 'zenmode'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'darmanitangalarzen': id = 'zenmode'; break;\r\n\t\t\t\tcase 'darmanitangalar': id = 'zenmode'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'aegislashblade': id = 'stancechange'; break;\r\n\t\t\t\tcase 'aegislash': id = 'stancechange'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'wishiwashischool': id = 'schooling'; break;\r\n\t\t\t\tcase 'wishiwashi': id = 'schooling'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'miniormeteor': id = 'shieldsdown'; break;\r\n\t\t\t\tcase 'minior': id = 'shieldsdown'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'eiscuenoice': id = 'iceface'; break;\r\n\t\t\t\tcase 'eiscue': id = 'iceface'; templateName = 'transformEnd'; break;\r\n\t\t\t\tcase 'terapagosterastal': id = 'terashift'; break;\r\n\t\t\t\t}\r\n\t\t\t} else if (newSpecies) {\r\n\t\t\t\tid = 'transform';\r\n\t\t\t}\r\n\t\t\tconst template = this.template(templateName, id, kwArgs.msg ? '' : 'NODEFAULT');\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SPECIES]', newSpecies);\r\n\t\t}\r\n\r\n\t\tcase 'switchout': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst side = pokemon.slice(0, 2);\r\n\t\t\tconst template = this.template('switchOut', kwArgs.from, this.own(side));\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side)).replace('[NICKNAME]', this.pokemonName(pokemon)).replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase 'faint': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('faint');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase 'swap': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tif (!target || !isNaN(Number(target))) {\r\n\t\t\t\tconst template = this.template('swapCenter');\r\n\t\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('swap');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase 'move': {\r\n\t\t\tconst [, pokemon, move] = args;\r\n\t\t\tlet line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.zeffect) {\r\n\t\t\t\tline1 = this.template('zEffect').replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('move', kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', move);\r\n\t\t}\r\n\r\n\t\tcase 'cant': {\r\n\t\t\tlet [, pokemon, effect, move] = args;\r\n\t\t\tconst template = this.template('cant', effect, 'NODEFAULT') ||\r\n\t\t\t\tthis.template(move ? 'cant' : 'cantNoMove');\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', move);\r\n\t\t}\r\n\r\n\t\tcase '-candynamax': {\r\n\t\t\tlet [, side] = args;\r\n\t\t\tconst own = this.own(side);\r\n\t\t\tlet template = '';\r\n\t\t\tif (this.turn === 1) {\r\n\t\t\t\tif (own) template = this.template('canDynamax', own);\r\n\t\t\t} else {\r\n\t\t\t\ttemplate = this.template('canDynamax', own);\r\n\t\t\t}\r\n\t\t\treturn template.replace('[TRAINER]', this.trainer(side));\r\n\t\t}\r\n\r\n\t\tcase 'message': {\r\n\t\t\tlet [, message] = args;\r\n\t\t\treturn '' + message + '\\n';\r\n\t\t}\r\n\r\n\t\tcase '-start': {\r\n\t\t\tlet [, pokemon, effect, arg3] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, pokemon) || this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'typechange') {\r\n\t\t\t\tconst template = this.template('typeChange', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TYPE]', arg3)\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (id === 'typeadd') {\r\n\t\t\t\tconst template = this.template('typeAdd', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TYPE]', arg3);\r\n\t\t\t}\r\n\t\t\tif (id.startsWith('stockpile')) {\r\n\t\t\t\tconst num = id.slice(9);\r\n\t\t\t\tconst template = this.template('start', 'stockpile');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[NUMBER]', num);\r\n\t\t\t}\r\n\t\t\tif (id.startsWith('perish')) {\r\n\t\t\t\tconst num = id.slice(6);\r\n\t\t\t\tconst template = this.template('activate', 'perishsong');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[NUMBER]', num);\r\n\t\t\t}\r\n\t\t\tif (id.startsWith('protosynthesis') || id.startsWith('quarkdrive')) {\r\n\t\t\t\tconst stat = id.slice(-3);\r\n\t\t\t\tconst template = this.template('start', id.slice(0, id.length - 3));\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[STAT]', BattleTextParser.stat(stat));\r\n\t\t\t}\r\n\t\t\tlet templateId = 'start';\r\n\t\t\tif (kwArgs.already) templateId = 'alreadyStarted';\r\n\t\t\tif (kwArgs.fatigue) templateId = 'startFromFatigue';\r\n\t\t\tif (kwArgs.zeffect) templateId = 'startFromZEffect';\r\n\t\t\tif (kwArgs.damage) templateId = 'activate';\r\n\t\t\tif (kwArgs.block) templateId = 'block';\r\n\t\t\tif (kwArgs.upkeep) templateId = 'upkeep';\r\n\t\t\tif (id === 'mist' && this.gen <= 2) templateId = `startGen${this.gen}`;\r\n\t\t\tif (id === 'reflect' || id === 'lightscreen') templateId = 'startGen1';\r\n\t\t\tif (templateId === 'start' && kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\ttemplateId += 'FromItem';\r\n\t\t\t}\r\n\t\t\tconst template = this.template(templateId, kwArgs.from, effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[EFFECT]', this.effect(effect))\r\n\t\t\t\t.replace('[MOVE]', arg3).replace('[SOURCE]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t}\r\n\r\n\t\tcase '-end': {\r\n\t\t\tlet [, pokemon, effect] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, pokemon) || this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'doomdesire' || id === 'futuresight') {\r\n\t\t\t\tconst template = this.template('activate', effect);\r\n\t\t\t\treturn line1 + template.replace('[TARGET]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tlet templateId = 'end';\r\n\t\t\tlet template = '';\r\n\t\t\tif (kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\ttemplate = this.template('endFromItem', effect);\r\n\t\t\t}\r\n\t\t\tif (!template) template = this.template(templateId, effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[EFFECT]', this.effect(effect))\r\n\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t}\r\n\r\n\t\tcase '-ability': {\r\n\t\t\tlet [, pokemon, ability, oldAbility, arg4] = args;\r\n\t\t\tlet line1 = '';\r\n\t\t\tif (oldAbility && (oldAbility.startsWith('p1') || oldAbility.startsWith('p2') || oldAbility === 'boost')) {\r\n\t\t\t\targ4 = oldAbility;\r\n\t\t\t\toldAbility = '';\r\n\t\t\t}\r\n\t\t\tif (oldAbility) line1 += this.ability(oldAbility, pokemon);\r\n\t\t\tline1 += this.ability(ability, pokemon);\r\n\t\t\tif (kwArgs.fail) {\r\n\t\t\t\tconst template = this.template('block', kwArgs.from);\r\n\t\t\t\treturn line1 + template;\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from) {\r\n\t\t\t\tline1 = this.maybeAbility(kwArgs.from, pokemon) + line1;\r\n\t\t\t\tconst template = this.template('changeAbility', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ABILITY]', this.effect(ability))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tconst id = BattleTextParser.effectId(ability);\r\n\t\t\tif (id === 'unnerve') {\r\n\t\t\t\tconst template = this.template('start', ability);\r\n\t\t\t\treturn line1 + template.replace('[TEAM]', this.team(pokemon.slice(0, 2), true));\r\n\t\t\t}\r\n\t\t\tlet templateId = 'start';\r\n\t\t\tif (id === 'anticipation' || id === 'sturdy') templateId = 'activate';\r\n\t\t\tconst template = this.template(templateId, ability, 'NODEFAULT');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-endability': {\r\n\t\t\tlet [, pokemon, ability] = args;\r\n\t\t\tif (ability) return this.ability(ability, pokemon);\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('start', 'Gastro Acid');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-item': {\r\n\t\t\tconst [, pokemon, item] = args;\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tlet target = '';\r\n\t\t\tif (['magician', 'pickpocket'].includes(id)) {\r\n\t\t\t\t[target, kwArgs.of] = [kwArgs.of, ''];\r\n\t\t\t}\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (['thief', 'covet', 'bestow', 'magician', 'pickpocket'].includes(id)) {\r\n\t\t\t\tconst template = this.template('takeItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(target || kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (id === 'frisk') {\r\n\t\t\t\tconst hasTarget = kwArgs.of && pokemon && kwArgs.of !== pokemon;\r\n\t\t\t\tconst template = this.template(hasTarget ? 'activate' : 'activateNoTarget', \"Frisk\");\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[TARGET]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from) {\r\n\t\t\t\tconst template = this.template('addItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('start', item, 'NODEFAULT');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-enditem': {\r\n\t\t\tlet [, pokemon, item] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.eat) {\r\n\t\t\t\tconst template = this.template('eatItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (id === 'gem') {\r\n\t\t\t\tconst template = this.template('useGem', item);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[MOVE]', kwArgs.move);\r\n\t\t\t}\r\n\t\t\tif (id === 'stealeat') {\r\n\t\t\t\tconst template = this.template('removeItem', \"Bug Bite\");\r\n\t\t\t\treturn line1 + template.replace('[SOURCE]', this.pokemon(kwArgs.of)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from) {\r\n\t\t\t\tconst template = this.template('removeItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.weaken) {\r\n\t\t\t\tconst template = this.template('activateWeaken');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(item));\r\n\t\t\t}\r\n\t\t\tlet template = this.template('end', item, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('activateItem').replace('[ITEM]', this.effect(item));\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(kwArgs.of));\r\n\t\t}\r\n\r\n\t\tcase '-status': {\r\n\t\t\tconst [, pokemon, status] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\tconst template = this.template('startFromItem', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tif (BattleTextParser.effectId(kwArgs.from) === 'rest') {\r\n\t\t\t\tconst template = this.template('startFromRest', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('start', status);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-curestatus': {\r\n\t\t\tconst [, pokemon, status] = args;\r\n\t\t\tif (BattleTextParser.effectId(kwArgs.from) === 'naturalcure') {\r\n\t\t\t\tconst template = this.template('activate', kwArgs.from);\r\n\t\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\tconst template = this.template('endFromItem', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.thaw) {\r\n\t\t\t\tconst template = this.template('endFromMove', status);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tlet template = this.template('end', status, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('end').replace('[EFFECT]', status);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-cureteam': {\r\n\t\t\treturn this.template('activate', kwArgs.from);\r\n\t\t}\r\n\r\n\t\tcase '-singleturn': case '-singlemove': {\r\n\t\t\tconst [, pokemon, effect] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon) ||\r\n\t\t\t\tthis.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'instruct') {\r\n\t\t\t\tconst template = this.template('activate', effect);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of)).replace('[TARGET]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\t\t\tlet template = this.template('start', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('start').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SOURCE]', this.pokemon(kwArgs.of))\r\n\t\t\t\t.replace('[TEAM]', this.team(pokemon.slice(0, 2)));\r\n\t\t}\r\n\r\n\t\tcase '-sidestart': {\r\n\t\t\tlet [, side, effect] = args;\r\n\t\t\tlet template = this.template('start', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('startTeamEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn template.replace('[TEAM]', this.team(side)).replace('[PARTY]', this.party(side));\r\n\t\t}\r\n\r\n\t\tcase '-sideend': {\r\n\t\t\tlet [, side, effect] = args;\r\n\t\t\tlet template = this.template('end', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('endTeamEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn template.replace('[TEAM]', this.team(side)).replace('[PARTY]', this.party(side));\r\n\t\t}\r\n\r\n\t\tcase '-weather': {\r\n\t\t\tconst [, weather] = args;\r\n\t\t\tif (!weather || weather === 'none') {\r\n\t\t\t\tconst template = this.template('end', kwArgs.from, 'NODEFAULT');\r\n\t\t\t\tif (!template) return this.template('endFieldEffect').replace('[EFFECT]', this.effect(weather));\r\n\t\t\t\treturn template;\r\n\t\t\t}\r\n\t\t\tif (kwArgs.upkeep) {\r\n\t\t\t\treturn this.template('upkeep', weather, 'NODEFAULT');\r\n\t\t\t}\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of);\r\n\t\t\tlet template = this.template('start', weather, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('startFieldEffect').replace('[EFFECT]', this.effect(weather));\r\n\t\t\treturn line1 + template;\r\n\t\t}\r\n\r\n\t\tcase '-fieldstart': case '-fieldactivate': {\r\n\t\t\tconst [, effect] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of);\r\n\t\t\tif (BattleTextParser.effectId(kwArgs.from) === 'hadronengine') {\r\n\t\t\t\treturn line1 + this.template('start', 'hadronengine').replace('[POKEMON]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tlet templateId = cmd.slice(6);\r\n\t\t\tif (BattleTextParser.effectId(effect) === 'perishsong') templateId = 'start';\r\n\t\t\tlet template = this.template(templateId, effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('startFieldEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of));\r\n\t\t}\r\n\r\n\t\tcase '-fieldend': {\r\n\t\t\tlet [, effect] = args;\r\n\t\t\tlet template = this.template('end', effect, 'NODEFAULT');\r\n\t\t\tif (!template) template = this.template('endFieldEffect').replace('[EFFECT]', this.effect(effect));\r\n\t\t\treturn template;\r\n\t\t}\r\n\r\n\t\tcase '-sethp': {\r\n\t\t\tlet effect = kwArgs.from;\r\n\t\t\treturn this.template('activate', effect);\r\n\t\t}\r\n\r\n\t\tcase '-message': {\r\n\t\t\tlet [, message] = args;\r\n\t\t\treturn '  ' + message + '\\n';\r\n\t\t}\r\n\r\n\t\tcase '-hint': {\r\n\t\t\tlet [, message] = args;\r\n\t\t\treturn '  (' + message + ')\\n';\r\n\t\t}\r\n\r\n\t\tcase '-activate': {\r\n\t\t\tlet [, pokemon, effect, target] = args;\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tif (id === 'celebrate') {\r\n\t\t\t\treturn this.template('activate', 'celebrate').replace('[TRAINER]', this.trainer(pokemon.slice(0, 2)));\r\n\t\t\t}\r\n\t\t\tif (!target &&\r\n\t\t\t\t['hyperdrill', 'hyperspacefury', 'hyperspacehole', 'phantomforce', 'shadowforce', 'feint'].includes(id)) {\r\n\t\t\t\t[pokemon, target] = [kwArgs.of, pokemon];\r\n\t\t\t\tif (!pokemon) pokemon = target;\r\n\t\t\t}\r\n\t\t\tif (!target) target = kwArgs.of || pokemon;\r\n\r\n\t\t\tlet line1 = this.maybeAbility(effect, pokemon);\r\n\r\n\t\t\tif (id === 'lockon' || id === 'mindreader') {\r\n\t\t\t\tconst template = this.template('start', effect);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(kwArgs.of)).replace('[SOURCE]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\r\n\t\t\tif ((id === 'mummy' || id === 'lingeringaroma') && kwArgs.ability) {\r\n\t\t\t\tline1 += this.ability(kwArgs.ability, target);\r\n\t\t\t\tline1 += this.ability(id === 'mummy' ? 'Mummy' : 'Lingering Aroma', target);\r\n\t\t\t\tconst template = this.template('changeAbility', id);\r\n\t\t\t\treturn line1 + template.replace('[TARGET]', this.pokemon(target));\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'commander') {\r\n\t\t\t\t// Commander didn't have a message prior to v1.2.0 of SV\r\n\t\t\t\t// so this is for backwards compatibility\r\n\t\t\t\tif (target === pokemon) return line1;\r\n\t\t\t\tconst template = this.template('activate', id);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace(/\\[TARGET\\]/g, this.pokemon(target));\r\n\t\t\t}\r\n\r\n\t\t\tlet templateId = 'activate';\r\n\t\t\tif (id === 'forewarn' && pokemon === target) {\r\n\t\t\t\ttemplateId = 'activateNoTarget';\r\n\t\t\t}\r\n\t\t\tif ((id === 'protosynthesis' || id === 'quarkdrive') && kwArgs.fromitem) {\r\n\t\t\t\ttemplateId = 'activateFromItem';\r\n\t\t\t}\r\n\t\t\tif (id === 'orichalcumpulse' && kwArgs.source) {\r\n\t\t\t\ttemplateId = 'start';\r\n\t\t\t}\r\n\t\t\tlet template = this.template(templateId, effect, 'NODEFAULT');\r\n\t\t\tif (!template) {\r\n\t\t\t\tif (line1) return line1; // Abilities don't have a default template\r\n\t\t\t\ttemplate = this.template('activate');\r\n\t\t\t\treturn line1 + template.replace('[EFFECT]', this.effect(effect));\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'brickbreak') {\r\n\t\t\t\ttemplate = template.replace('[TEAM]', this.team(target.slice(0, 2)));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.ability) {\r\n\t\t\t\tline1 += this.ability(kwArgs.ability, pokemon);\r\n\t\t\t}\r\n\t\t\tif (kwArgs.ability2) {\r\n\t\t\t\tline1 += this.ability(kwArgs.ability2, target);\r\n\t\t\t}\r\n\t\t\tif (kwArgs.move || kwArgs.number || kwArgs.item || kwArgs.name) {\r\n\t\t\t\ttemplate = template.replace('[MOVE]', kwArgs.move).replace('[NUMBER]', kwArgs.number)\r\n\t\t\t\t\t.replace('[ITEM]', kwArgs.item).replace('[NAME]', kwArgs.name);\r\n\t\t\t}\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target))\r\n\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t}\r\n\r\n\t\tcase '-prepare': {\r\n\t\t\tconst [, pokemon, effect, target] = args;\r\n\t\t\tconst template = this.template('prepare', effect);\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-damage': {\r\n\t\t\tlet [, pokemon, , percentage] = args;\r\n\t\t\tlet template = this.template('damage', kwArgs.from, 'NODEFAULT');\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tif (template) {\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\r\n\t\t\tif (!kwArgs.from) {\r\n\t\t\t\ttemplate = this.template(percentage ? 'damagePercentage' : 'damage');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[PERCENTAGE]', percentage);\r\n\t\t\t}\r\n\t\t\tif (kwArgs.from.startsWith('item:')) {\r\n\t\t\t\ttemplate = this.template(kwArgs.of ? 'damageFromPokemon' : 'damageFromItem');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[ITEM]', this.effect(kwArgs.from))\r\n\t\t\t\t\t.replace('[SOURCE]', this.pokemon(kwArgs.of));\r\n\t\t\t}\r\n\t\t\tif (kwArgs.partiallytrapped || id === 'bind' || id === 'wrap') {\r\n\t\t\t\ttemplate = this.template('damageFromPartialTrapping');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[MOVE]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\r\n\t\t\ttemplate = this.template('damage');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-heal': {\r\n\t\t\tlet [, pokemon] = args;\r\n\t\t\tlet template = this.template('heal', kwArgs.from, 'NODEFAULT');\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (template) {\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SOURCE]', this.pokemon(kwArgs.of))\r\n\t\t\t\t\t.replace('[NICKNAME]', kwArgs.wisher);\r\n\t\t\t}\r\n\r\n\t\t\tif (kwArgs.from && !kwArgs.from.startsWith('ability:')) {\r\n\t\t\t\ttemplate = this.template('healFromEffect');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[EFFECT]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\r\n\t\t\ttemplate = this.template('heal');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-boost': case '-unboost': {\r\n\t\t\tlet [, pokemon, stat, num] = args;\r\n\t\t\tif (stat === 'spa' && this.gen === 1) stat = 'spc';\r\n\t\t\tconst amount = parseInt(num, 10);\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tif (amount >= 3) templateId += '3';\r\n\t\t\telse if (amount >= 2) templateId += '2';\r\n\t\t\telse if (amount === 0) templateId += '0';\r\n\t\t\tif (amount && kwArgs.zeffect) {\r\n\t\t\t\ttemplateId += (kwArgs.multiple ? 'MultipleFromZEffect' : 'FromZEffect');\r\n\t\t\t} else if (amount && kwArgs.from?.startsWith('item:')) {\r\n\t\t\t\tconst template = this.template(templateId + 'FromItem', kwArgs.from);\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[STAT]', BattleTextParser.stat(stat))\r\n\t\t\t\t\t.replace('[ITEM]', this.effect(kwArgs.from));\r\n\t\t\t}\r\n\t\t\tconst template = this.template(templateId, kwArgs.from);\r\n\t\t\treturn line1 + template.replace(/\\[POKEMON\\]/g, this.pokemon(pokemon)).replace('[STAT]', BattleTextParser.stat(stat));\r\n\t\t}\r\n\r\n\t\tcase '-setboost': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst effect = kwArgs.from;\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('boost', effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-swapboost': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst id = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tlet templateId = 'swapBoost';\r\n\t\t\tif (id === 'guardswap') templateId = 'swapDefensiveBoost';\r\n\t\t\tif (id === 'powerswap') templateId = 'swapOffensiveBoost';\r\n\t\t\tconst template = this.template(templateId, kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-copyboost': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('copyBoost', kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-clearboost': case '-clearpositiveboost': case '-clearnegativeboost': {\r\n\t\t\tconst [, pokemon, source] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet templateId = 'clearBoost';\r\n\t\t\tif (kwArgs.zeffect) templateId = 'clearBoostFromZEffect';\r\n\t\t\tconst template = this.template(templateId, kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[SOURCE]', this.pokemon(source));\r\n\t\t}\r\n\r\n\t\tcase '-invertboost': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tconst template = this.template('invertBoost', kwArgs.from);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-clearallboost': {\r\n\t\t\treturn this.template('clearAllBoost', kwArgs.from);\r\n\t\t}\r\n\r\n\t\tcase '-crit': case '-supereffective': case '-resisted': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tif (templateId === 'supereffective') templateId = 'superEffective';\r\n\t\t\tif (kwArgs.spread) templateId += 'Spread';\r\n\t\t\tconst template = this.template(templateId);\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-block': {\r\n\t\t\tlet [, pokemon, effect, move, attacker] = args;\r\n\t\t\tconst line1 = this.maybeAbility(effect, kwArgs.of || pokemon);\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tlet templateId = 'block';\r\n\t\t\tif (id === 'mist' && this.gen <= 2) templateId = `blockGen${this.gen}`;\r\n\t\t\tconst template = this.template(templateId, effect);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon))\r\n\t\t\t\t.replace('[SOURCE]', this.pokemon(attacker || kwArgs.of)).replace('[MOVE]', move);\r\n\t\t}\r\n\r\n\t\tcase '-fail': {\r\n\t\t\tlet [, pokemon, effect, stat] = args;\r\n\t\t\tlet id = BattleTextParser.effectId(effect);\r\n\t\t\tlet blocker = BattleTextParser.effectId(kwArgs.from);\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet templateId = 'block';\r\n\t\t\tif (['desolateland', 'primordialsea'].includes(blocker) &&\r\n\t\t\t\t!['sunnyday', 'raindance', 'sandstorm', 'hail', 'snowscape', 'chillyreception'].includes(id)) {\r\n\t\t\t\ttemplateId = 'blockMove';\r\n\t\t\t} else if (blocker === 'uproar' && kwArgs.msg) {\r\n\t\t\t\ttemplateId = 'blockSelf';\r\n\t\t\t}\r\n\t\t\tlet template = this.template(templateId, kwArgs.from);\r\n\t\t\tif (template) {\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t\t}\r\n\r\n\t\t\tif (id === 'unboost') {\r\n\t\t\t\ttemplate = this.template(stat ? 'failSingular' : 'fail', 'unboost');\r\n\t\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[STAT]', stat);\r\n\t\t\t}\r\n\r\n\t\t\ttemplateId = 'fail';\r\n\t\t\tif (['brn', 'frz', 'par', 'psn', 'slp', 'substitute', 'shedtail'].includes(id)) {\r\n\t\t\t\ttemplateId = 'alreadyStarted';\r\n\t\t\t}\r\n\t\t\tif (kwArgs.heavy) templateId = 'failTooHeavy';\r\n\t\t\tif (kwArgs.weak) templateId = 'fail';\r\n\t\t\tif (kwArgs.forme) templateId = 'failWrongForme';\r\n\t\t\ttemplate = this.template(templateId, id);\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-immune': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tlet template = this.template('block', kwArgs.from);\r\n\t\t\tif (!template) {\r\n\t\t\t\tconst templateId = kwArgs.ohko ? 'immuneOHKO' : 'immune';\r\n\t\t\t\ttemplate = this.template(pokemon ? templateId : 'immuneNoPokemon', kwArgs.from);\r\n\t\t\t}\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-miss': {\r\n\t\t\tconst [, source, pokemon] = args;\r\n\t\t\tconst line1 = this.maybeAbility(kwArgs.from, kwArgs.of || pokemon);\r\n\t\t\tif (!pokemon) {\r\n\t\t\t\tconst template = this.template('missNoPokemon');\r\n\t\t\t\treturn line1 + template.replace('[SOURCE]', this.pokemon(source));\r\n\t\t\t}\r\n\t\t\tconst template = this.template('miss');\r\n\t\t\treturn line1 + template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-center': case '-ohko': case '-combine': {\r\n\t\t\treturn this.template(cmd.slice(1));\r\n\t\t}\r\n\r\n\t\tcase '-notarget': {\r\n\t\t\treturn this.template('noTarget');\r\n\t\t}\r\n\r\n\t\tcase '-mega': case '-primal': {\r\n\t\t\tconst [, pokemon, species, item] = args;\r\n\t\t\tlet id = '';\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tif (species === 'Rayquaza') {\r\n\t\t\t\tid = 'dragonascent';\r\n\t\t\t\ttemplateId = 'megaNoItem';\r\n\t\t\t}\r\n\t\t\tif (!id && cmd === '-mega' && this.gen < 7) templateId = 'megaGen6';\r\n\t\t\tif (!item && cmd === '-mega') templateId = 'megaNoItem';\r\n\t\t\tlet template = this.template(templateId, id);\r\n\t\t\tconst side = pokemon.slice(0, 2);\r\n\t\t\tconst pokemonName = this.pokemon(pokemon);\r\n\t\t\tif (cmd === '-mega') {\r\n\t\t\t\tconst template2 = this.template('transformMega');\r\n\t\t\t\ttemplate += template2.replace('[POKEMON]', pokemonName).replace('[SPECIES]', species);\r\n\t\t\t}\r\n\t\t\treturn template.replace('[POKEMON]', pokemonName).replace('[ITEM]', item).replace('[TRAINER]', this.trainer(side));\r\n\t\t}\r\n\r\n\t\tcase '-terastallize': {\r\n\t\t\tconst [, pokemon, type] = args;\r\n\t\t\tlet id = '';\r\n\t\t\tlet templateId = cmd.slice(1);\r\n\t\t\tlet template = this.template(templateId, id);\r\n\t\t\tconst pokemonName = this.pokemon(pokemon);\r\n\t\t\treturn template.replace('[POKEMON]', pokemonName).replace('[TYPE]', type);\r\n\t\t}\r\n\r\n\t\tcase '-zpower': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('zPower');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-burst': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('activate', \"Ultranecrozium Z\");\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-zbroken': {\r\n\t\t\tconst [, pokemon] = args;\r\n\t\t\tconst template = this.template('zBroken');\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon));\r\n\t\t}\r\n\r\n\t\tcase '-hitcount': {\r\n\t\t\tconst [, , num] = args;\r\n\t\t\tif (num === '1') {\r\n\t\t\t\treturn this.template('hitCountSingular');\r\n\t\t\t}\r\n\t\t\treturn this.template('hitCount').replace('[NUMBER]', num);\r\n\t\t}\r\n\r\n\t\tcase '-waiting': {\r\n\t\t\tconst [, pokemon, target] = args;\r\n\t\t\tconst template = this.template('activate', \"Water Pledge\");\r\n\t\t\treturn template.replace('[POKEMON]', this.pokemon(pokemon)).replace('[TARGET]', this.pokemon(target));\r\n\t\t}\r\n\r\n\t\tcase '-anim': {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndeclare const require: any;\r\ndeclare const global: any;\r\nif (typeof require === 'function') {\r\n\t// in Node\r\n\tglobal.BattleTextParser = BattleTextParser;\r\n}\r\n"],
  "mappings": "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",
  "names": ["template"]
}
