{
  "version": 3,
  "sources": ["../../../../data/random-battles/gen9cap/teams.ts"],
  "sourcesContent": ["import { RandomTeams, type MoveCounter } from \"../gen9/teams\";\r\n\r\n/** Pokemon who should never be in the lead slot */\r\nconst NO_LEAD_POKEMON = [\r\n\t'Zacian', 'Zamazenta',\r\n];\r\n\r\nexport class RandomCAPTeams extends RandomTeams {\r\n\tgetCAPAbility(\r\n\t\ttypes: string[],\r\n\t\tmoves: Set<string>,\r\n\t\tabilities: string[],\r\n\t\tcounter: MoveCounter,\r\n\t\tteamDetails: RandomTeamsTypes.TeamDetails,\r\n\t\tspecies: Species,\r\n\t\tisLead: boolean,\r\n\t\tteraType: string,\r\n\t\trole: RandomTeamsTypes.Role,\r\n\t): string {\r\n\t\t// Hard-code abilities here\r\n\t\tif (species.id === 'fidgit') return moves.has('tailwind') ? 'Persistent' : 'Frisk';\r\n\t\tif (species.id === 'tomohawk') return moves.has('haze') ? 'Prankster' : 'Intimidate';\r\n\t\t// Default to regular ability selection\r\n\t\treturn this.getAbility(types, moves, abilities, counter, teamDetails, species, isLead, false, teraType, role);\r\n\t}\r\n\r\n\tgetCAPPriorityItem(\r\n\t\tability: string,\r\n\t\ttypes: string[],\r\n\t\tmoves: Set<string>,\r\n\t\tcounter: MoveCounter,\r\n\t\tteamDetails: RandomTeamsTypes.TeamDetails,\r\n\t\tspecies: Species,\r\n\t\tisLead: boolean,\r\n\t\tteraType: string,\r\n\t\trole: RandomTeamsTypes.Role,\r\n\t) {\r\n\t\tif (ability === 'Mountaineer') return 'Life Orb';\r\n\t}\r\n\r\n\toverride getLevel(\r\n\t\tspecies: Species,\r\n\t\tisDoubles: boolean,\r\n\t): number {\r\n\t\tif (this.adjustLevel) return this.adjustLevel;\r\n\t\treturn (species.num > 0 ? this.randomSets[species.id][\"level\"] : this.randomCAPSets[species.id][\"level\"]) || 80;\r\n\t}\r\n\r\n\trandomCAPSet(\r\n\t\ts: string | Species,\r\n\t\tteamDetails: RandomTeamsTypes.TeamDetails = {},\r\n\t\tisLead = false,\r\n\t\tisDoubles = false\r\n\t): RandomTeamsTypes.RandomSet {\r\n\t\tconst species = this.dex.species.get(s);\r\n\t\t// Generate Non-CAP Pokemon using the regular randomSet() method\r\n\t\tif (species.num > 0) return this.randomSet(s, teamDetails, isLead, isDoubles);\r\n\t\tconst forme = this.getForme(species);\r\n\t\tconst sets = this.randomCAPSets[species.id][\"sets\"];\r\n\t\tconst possibleSets = [];\r\n\r\n\t\tconst ruleTable = this.dex.formats.getRuleTable(this.format);\r\n\r\n\t\tfor (const set of sets) {\r\n\t\t\t// Prevent Fast Bulky Setup on lead Paradox Pokemon, since it generates Booster Energy.\r\n\t\t\tconst abilities = new Set(Object.values(species.abilities));\r\n\t\t\tif (isLead && (abilities.has('Protosynthesis') || abilities.has('Quark Drive')) && set.role === 'Fast Bulky Setup') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// Prevent Tera Blast user if the team already has one, or if Terastallizion is prevented.\r\n\t\t\tif ((teamDetails.teraBlast || ruleTable.has('terastalclause')) && set.role === 'Tera Blast user') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tpossibleSets.push(set);\r\n\t\t}\r\n\t\tconst set = this.sampleIfArray(possibleSets);\r\n\t\tconst role = set.role;\r\n\t\tconst movePool: string[] = [];\r\n\t\tfor (const movename of set.movepool) {\r\n\t\t\tmovePool.push(this.dex.moves.get(movename).id);\r\n\t\t}\r\n\t\tconst teraTypes = set.teraTypes;\r\n\t\tlet teraType = this.sampleIfArray(teraTypes);\r\n\r\n\t\tlet ability = '';\r\n\t\tlet item = undefined;\r\n\r\n\t\tconst evs = { hp: 85, atk: 85, def: 85, spa: 85, spd: 85, spe: 85 };\r\n\t\tconst ivs = { hp: 31, atk: 31, def: 31, spa: 31, spd: 31, spe: 31 };\r\n\r\n\t\tconst types = species.types;\r\n\t\tconst abilities = set.abilities!;\r\n\r\n\t\t// Get moves\r\n\t\tconst moves = this.randomMoveset(types, abilities, teamDetails, species, isLead, isDoubles, movePool, teraType!, role);\r\n\t\tconst counter = this.queryMoves(moves, species, teraType!, abilities);\r\n\r\n\t\t// Get ability\r\n\t\tability = this.getCAPAbility(types, moves, abilities, counter, teamDetails, species, isLead, teraType!, role);\r\n\r\n\t\t// Get items\r\n\t\t// First, the priority items\r\n\t\titem = this.getCAPPriorityItem(ability, types, moves, counter, teamDetails, species, isLead, teraType!, role);\r\n\t\tif (item === undefined) {\r\n\t\t\titem = this.getPriorityItem(ability, types, moves, counter, teamDetails, species, isLead, isDoubles, teraType!, role);\r\n\t\t}\r\n\t\tif (item === undefined) {\r\n\t\t\titem = this.getItem(ability, types, moves, counter, teamDetails, species, isLead, teraType!, role);\r\n\t\t}\r\n\r\n\t\t// Get level\r\n\t\tconst level = this.getLevel(species, isDoubles);\r\n\r\n\t\t// Prepare optimal HP\r\n\t\tconst srImmunity = ability === 'Magic Guard' || item === 'Heavy-Duty Boots';\r\n\t\tlet srWeakness = srImmunity ? 0 : this.dex.getEffectiveness('Rock', species);\r\n\t\t// Crash damage move users want an odd HP to survive two misses\r\n\t\tif (['axekick', 'highjumpkick', 'jumpkick'].some(m => moves.has(m))) srWeakness = 2;\r\n\t\twhile (evs.hp > 1) {\r\n\t\t\tconst hp = Math.floor(Math.floor(2 * species.baseStats.hp + ivs.hp + Math.floor(evs.hp / 4) + 100) * level / 100 + 10);\r\n\t\t\tif ((moves.has('substitute') && ['Sitrus Berry', 'Salac Berry'].includes(item))) {\r\n\t\t\t\t// Two Substitutes should activate Sitrus Berry\r\n\t\t\t\tif (hp % 4 === 0) break;\r\n\t\t\t} else if ((moves.has('bellydrum') || moves.has('filletaway')) && (item === 'Sitrus Berry' || ability === 'Gluttony')) {\r\n\t\t\t\t// Belly Drum should activate Sitrus Berry\r\n\t\t\t\tif (hp % 2 === 0) break;\r\n\t\t\t} else if (moves.has('substitute') && moves.has('endeavor')) {\r\n\t\t\t\t// Luvdisc should be able to Substitute down to very low HP\r\n\t\t\t\tif (hp % 4 > 0) break;\r\n\t\t\t} else {\r\n\t\t\t\t// Maximize number of Stealth Rock switch-ins\r\n\t\t\t\tif (srWeakness <= 0 || ability === 'Regenerator' || ['Leftovers', 'Life Orb'].includes(item)) break;\r\n\t\t\t\tif (item !== 'Sitrus Berry' && hp % (4 / srWeakness) > 0) break;\r\n\t\t\t\t// Minimise number of Stealth Rock switch-ins to activate Sitrus Berry\r\n\t\t\t\tif (item === 'Sitrus Berry' && hp % (4 / srWeakness) === 0) break;\r\n\t\t\t}\r\n\t\t\tevs.hp -= 4;\r\n\t\t}\r\n\r\n\t\t// Minimize confusion damage\r\n\t\tconst noAttackStatMoves = [...moves].every(m => {\r\n\t\t\tconst move = this.dex.moves.get(m);\r\n\t\t\tif (move.damageCallback || move.damage) return true;\r\n\t\t\tif (move.id === 'shellsidearm') return false;\r\n\t\t\t// Magearna and doubles Dragonite, though these can work well as a general rule\r\n\t\t\tif (move.id === 'terablast' && (\r\n\t\t\t\tspecies.id === 'porygon2' || moves.has('shiftgear') || species.baseStats.atk > species.baseStats.spa)\r\n\t\t\t) return false;\r\n\t\t\treturn move.category !== 'Physical' || move.id === 'bodypress' || move.id === 'foulplay';\r\n\t\t});\r\n\t\tif (noAttackStatMoves && !moves.has('transform') && this.format.mod !== 'partnersincrime') {\r\n\t\t\tevs.atk = 0;\r\n\t\t\tivs.atk = 0;\r\n\t\t}\r\n\r\n\t\tif (moves.has('gyroball') || moves.has('trickroom')) {\r\n\t\t\tevs.spe = 0;\r\n\t\t\tivs.spe = 0;\r\n\t\t}\r\n\r\n\t\t// Enforce Tera Type after all set generation is done to prevent infinite generation\r\n\t\tif (this.forceTeraType) teraType = this.forceTeraType;\r\n\r\n\t\t// shuffle moves to add more randomness to camomons\r\n\t\tconst shuffledMoves = Array.from(moves);\r\n\t\tthis.prng.shuffle(shuffledMoves);\r\n\t\treturn {\r\n\t\t\tname: species.baseSpecies,\r\n\t\t\tspecies: forme,\r\n\t\t\tgender: species.baseSpecies === 'Greninja' ? 'M' : species.gender,\r\n\t\t\tshiny: this.randomChance(1, 1024),\r\n\t\t\tlevel,\r\n\t\t\tmoves: shuffledMoves,\r\n\t\t\tability,\r\n\t\t\tevs,\r\n\t\t\tivs,\r\n\t\t\titem,\r\n\t\t\tteraType,\r\n\t\t\trole,\r\n\t\t};\r\n\t}\r\n\r\n\trandomCAPSets: { [species: string]: RandomTeamsTypes.RandomSpeciesData } = require('./sets.json');\r\n\r\n\toverride randomTeam() {\r\n\t\tthis.enforceNoDirectCustomBanlistChanges();\r\n\r\n\t\tconst seed = this.prng.getSeed();\r\n\t\tconst ruleTable = this.dex.formats.getRuleTable(this.format);\r\n\t\tconst pokemon: RandomTeamsTypes.RandomSet[] = [];\r\n\r\n\t\t// For Monotype\r\n\t\tconst isMonotype = !!this.forceMonotype || ruleTable.has('sametypeclause');\r\n\t\tconst isDoubles = false;\r\n\t\tconst typePool = this.dex.types.names().filter(name => name !== \"Stellar\");\r\n\t\tconst type = this.forceMonotype || this.sample(typePool);\r\n\r\n\t\tconst baseFormes: { [k: string]: number } = {};\r\n\r\n\t\tconst typeCount: { [k: string]: number } = {};\r\n\t\tconst typeComboCount: { [k: string]: number } = {};\r\n\t\tconst typeWeaknesses: { [k: string]: number } = {};\r\n\t\tconst typeDoubleWeaknesses: { [k: string]: number } = {};\r\n\t\tconst teamDetails: RandomTeamsTypes.TeamDetails = {};\r\n\t\tlet numMaxLevelPokemon = 0;\r\n\r\n\t\tconst pokemonList = Object.keys(this.randomSets);\r\n\t\tconst capPokemonList = Object.keys(this.randomCAPSets);\r\n\r\n\t\tconst [pokemonPool, baseSpeciesPool] = this.getPokemonPool(type, pokemon, isMonotype, pokemonList);\r\n\t\tconst [capPokemonPool, capBaseSpeciesPool] = this.getPokemonPool(type, pokemon, isMonotype, capPokemonList);\r\n\r\n\t\tlet leadsRemaining = 1;\r\n\t\twhile (baseSpeciesPool.length && pokemon.length < this.maxTeamSize) {\r\n\t\t\tlet baseSpecies, species;\r\n\t\t\t// Always generate a CAP Pokemon in slot 2; other slots can randomly generate CAP Pokemon.\r\n\t\t\tif ((pokemon.length === 1 || this.randomChance(1, 5)) && capBaseSpeciesPool.length) {\r\n\t\t\t\tbaseSpecies = this.sampleNoReplace(capBaseSpeciesPool);\r\n\t\t\t\tspecies = this.dex.species.get(this.sample(capPokemonPool[baseSpecies]));\r\n\t\t\t} else {\r\n\t\t\t\tbaseSpecies = this.sampleNoReplace(baseSpeciesPool);\r\n\t\t\t\tspecies = this.dex.species.get(this.sample(pokemonPool[baseSpecies]));\r\n\t\t\t}\r\n\t\t\tif (!species.exists) continue;\r\n\r\n\t\t\t// Limit to one of each species (Species Clause)\r\n\t\t\tif (baseFormes[species.baseSpecies]) continue;\r\n\r\n\t\t\t// Treat Ogerpon formes and Terapagos like the Tera Blast user role; reject if team has one already\r\n\t\t\tif ((species.baseSpecies === 'Ogerpon' || species.baseSpecies === 'Terapagos') && teamDetails.teraBlast) continue;\r\n\r\n\t\t\t// Illusion shouldn't be on the last slot\r\n\t\t\tif (species.baseSpecies === 'Zoroark' && pokemon.length >= (this.maxTeamSize - 1)) continue;\r\n\r\n\t\t\tconst types = species.types;\r\n\t\t\tconst typeCombo = types.slice().sort().join();\r\n\t\t\tconst weakToFreezeDry = (\r\n\t\t\t\tthis.dex.getEffectiveness('Ice', species) > 0 ||\r\n\t\t\t\t(this.dex.getEffectiveness('Ice', species) > -2 && types.includes('Water'))\r\n\t\t\t);\r\n\t\t\t// Dynamically scale limits for different team sizes. The default and minimum value is 1.\r\n\t\t\tconst limitFactor = Math.round(this.maxTeamSize / 6) || 1;\r\n\r\n\t\t\tif (!isMonotype && !this.forceMonotype) {\r\n\t\t\t\tlet skip = false;\r\n\r\n\t\t\t\t// Limit two of any type\r\n\t\t\t\tfor (const typeName of types) {\r\n\t\t\t\t\tif (typeCount[typeName] >= 2 * limitFactor) {\r\n\t\t\t\t\t\tskip = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (skip) continue;\r\n\r\n\t\t\t\t// Limit three weak to any type, and one double weak to any type\r\n\t\t\t\tfor (const typeName of this.dex.types.names()) {\r\n\t\t\t\t\t// it's weak to the type\r\n\t\t\t\t\tif (this.dex.getEffectiveness(typeName, species) > 0) {\r\n\t\t\t\t\t\tif (!typeWeaknesses[typeName]) typeWeaknesses[typeName] = 0;\r\n\t\t\t\t\t\tif (typeWeaknesses[typeName] >= 3 * limitFactor) {\r\n\t\t\t\t\t\t\tskip = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.dex.getEffectiveness(typeName, species) > 1) {\r\n\t\t\t\t\t\tif (!typeDoubleWeaknesses[typeName]) typeDoubleWeaknesses[typeName] = 0;\r\n\t\t\t\t\t\tif (typeDoubleWeaknesses[typeName] >= limitFactor) {\r\n\t\t\t\t\t\t\tskip = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (skip) continue;\r\n\r\n\t\t\t\t// Count Dry Skin/Fluffy as Fire weaknesses\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.dex.getEffectiveness('Fire', species) === 0 &&\r\n\t\t\t\t\tObject.values(species.abilities).filter(a => ['Dry Skin', 'Fluffy'].includes(a)).length\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (!typeWeaknesses['Fire']) typeWeaknesses['Fire'] = 0;\r\n\t\t\t\t\tif (typeWeaknesses['Fire'] >= 3 * limitFactor) continue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Limit four weak to Freeze-Dry\r\n\t\t\t\tif (weakToFreezeDry) {\r\n\t\t\t\t\tif (!typeWeaknesses['Freeze-Dry']) typeWeaknesses['Freeze-Dry'] = 0;\r\n\t\t\t\t\tif (typeWeaknesses['Freeze-Dry'] >= 4 * limitFactor) continue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Limit one level 100 Pokemon\r\n\t\t\t\tif (!this.adjustLevel && (this.getLevel(species, isDoubles) === 100) && numMaxLevelPokemon >= limitFactor) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Limit three of any type combination in Monotype\r\n\t\t\tif (!this.forceMonotype && isMonotype && (typeComboCount[typeCombo] >= 3 * limitFactor)) continue;\r\n\r\n\t\t\tlet set: RandomTeamsTypes.RandomSet;\r\n\r\n\t\t\tif (leadsRemaining) {\r\n\t\t\t\tif (NO_LEAD_POKEMON.includes(species.baseSpecies)) {\r\n\t\t\t\t\tif (pokemon.length + leadsRemaining === this.maxTeamSize) continue;\r\n\t\t\t\t\tset = this.randomCAPSet(species, teamDetails, false, isDoubles);\r\n\t\t\t\t\tpokemon.push(set);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tset = this.randomCAPSet(species, teamDetails, true, isDoubles);\r\n\t\t\t\t\tpokemon.unshift(set);\r\n\t\t\t\t\tleadsRemaining--;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tset = this.randomCAPSet(species, teamDetails, false, isDoubles);\r\n\t\t\t\tpokemon.push(set);\r\n\t\t\t}\r\n\r\n\t\t\t// Don't bother tracking details for the last Pokemon\r\n\t\t\tif (pokemon.length === this.maxTeamSize) break;\r\n\r\n\t\t\t// Now that our Pokemon has passed all checks, we can increment our counters\r\n\t\t\tbaseFormes[species.baseSpecies] = 1;\r\n\r\n\t\t\t// Increment type counters\r\n\t\t\tfor (const typeName of types) {\r\n\t\t\t\tif (typeName in typeCount) {\r\n\t\t\t\t\ttypeCount[typeName]++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttypeCount[typeName] = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (typeCombo in typeComboCount) {\r\n\t\t\t\ttypeComboCount[typeCombo]++;\r\n\t\t\t} else {\r\n\t\t\t\ttypeComboCount[typeCombo] = 1;\r\n\t\t\t}\r\n\r\n\t\t\t// Increment weakness counter\r\n\t\t\tfor (const typeName of this.dex.types.names()) {\r\n\t\t\t\t// it's weak to the type\r\n\t\t\t\tif (this.dex.getEffectiveness(typeName, species) > 0) {\r\n\t\t\t\t\ttypeWeaknesses[typeName]++;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.dex.getEffectiveness(typeName, species) > 1) {\r\n\t\t\t\t\ttypeDoubleWeaknesses[typeName]++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Count Dry Skin/Fluffy as Fire weaknesses\r\n\t\t\tif (['Dry Skin', 'Fluffy'].includes(set.ability) && this.dex.getEffectiveness('Fire', species) === 0) {\r\n\t\t\t\ttypeWeaknesses['Fire']++;\r\n\t\t\t}\r\n\t\t\tif (weakToFreezeDry) typeWeaknesses['Freeze-Dry']++;\r\n\r\n\t\t\t// Increment level 100 counter\r\n\t\t\tif (set.level === 100) numMaxLevelPokemon++;\r\n\r\n\t\t\t// Track what the team has\r\n\t\t\tif (set.ability === 'Drizzle' || set.moves.includes('raindance')) teamDetails.rain = 1;\r\n\t\t\tif (set.ability === 'Drought' || set.ability === 'Orichalcum Pulse' || set.moves.includes('sunnyday')) {\r\n\t\t\t\tteamDetails.sun = 1;\r\n\t\t\t}\r\n\t\t\tif (set.ability === 'Sand Stream') teamDetails.sand = 1;\r\n\t\t\tif (set.ability === 'Snow Warning' || set.moves.includes('snowscape') || set.moves.includes('chillyreception')) {\r\n\t\t\t\tteamDetails.snow = 1;\r\n\t\t\t}\r\n\t\t\tif (set.moves.includes('healbell')) teamDetails.statusCure = 1;\r\n\t\t\tif (set.moves.includes('spikes') || set.moves.includes('ceaselessedge')) {\r\n\t\t\t\tteamDetails.spikes = (teamDetails.spikes || 0) + 1;\r\n\t\t\t}\r\n\t\t\tif (set.moves.includes('toxicspikes') || set.ability === 'Toxic Debris') teamDetails.toxicSpikes = 1;\r\n\t\t\tif (set.moves.includes('stealthrock') || set.moves.includes('stoneaxe')) teamDetails.stealthRock = 1;\r\n\t\t\tif (set.moves.includes('stickyweb')) teamDetails.stickyWeb = 1;\r\n\t\t\tif (set.moves.includes('defog')) teamDetails.defog = 1;\r\n\t\t\tif (set.moves.includes('rapidspin') || set.moves.includes('mortalspin')) teamDetails.rapidSpin = 1;\r\n\t\t\tif (set.moves.includes('auroraveil') || (set.moves.includes('reflect') && set.moves.includes('lightscreen'))) {\r\n\t\t\t\tteamDetails.screens = 1;\r\n\t\t\t}\r\n\t\t\tif (set.role === 'Tera Blast user' || species.baseSpecies === \"Ogerpon\" || species.baseSpecies === \"Terapagos\") {\r\n\t\t\t\tteamDetails.teraBlast = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (pokemon.length < this.maxTeamSize && pokemon.length < 12) { // large teams sometimes cannot be built\r\n\t\t\tthrow new Error(`Could not build a random team for ${this.format} (seed=${seed})`);\r\n\t\t}\r\n\r\n\t\treturn pokemon;\r\n\t}\r\n}\r\n\r\nexport default RandomCAPTeams;\r\n"],
  "mappings": "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",
  "names": ["set", "abilities"]
}
