{
  "version": 3,
  "sources": ["../../../../data/mods/passiveaggressive/conditions.ts"],
  "sourcesContent": ["export const Conditions: import('../../../sim/dex-conditions').ModdedConditionDataTable = {\r\n\ttox: {\r\n\t\tinherit: true,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.effectState.stage < 15) {\r\n\t\t\t\tthis.effectState.stage++;\r\n\t\t\t}\r\n\t\t\tconst calc = calculate(this, this.effectState.source, pokemon);\r\n\t\t\tthis.damage(calc * this.clampIntRange(pokemon.baseMaxhp / 16, 1) * this.effectState.stage);\r\n\t\t},\r\n\t},\r\n\tbrn: {\r\n\t\tinherit: true,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tconst calc = calculate(this, this.effectState.source, pokemon);\r\n\t\t\tthis.damage(calc * pokemon.baseMaxhp / 16);\r\n\t\t},\r\n\t},\r\n\tpsn: {\r\n\t\tinherit: true,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tconst calc = calculate(this, this.effectState.source, pokemon);\r\n\t\t\tthis.damage(calc * pokemon.baseMaxhp / 8);\r\n\t\t},\r\n\t},\r\n\tpartiallytrapped: {\r\n\t\tinherit: true,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tconst source = this.effectState.source;\r\n\t\t\t// G-Max Centiferno and G-Max Sandblast continue even after the user leaves the field\r\n\t\t\tconst gmaxEffect = ['gmaxcentiferno', 'gmaxsandblast'].includes(this.effectState.sourceEffect.id);\r\n\t\t\tif (source && (!source.isActive || source.hp <= 0 || !source.activeTurns) && !gmaxEffect) {\r\n\t\t\t\tdelete pokemon.volatiles['partiallytrapped'];\r\n\t\t\t\tthis.add('-end', pokemon, this.effectState.sourceEffect, '[partiallytrapped]', '[silent]');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst calc = calculate(this, source, pokemon);\r\n\t\t\tthis.damage(calc * pokemon.baseMaxhp / this.effectState.boundDivisor);\r\n\t\t},\r\n\t},\r\n\tsandstorm: {\r\n\t\tinherit: true,\r\n\t\tonWeather(target) {\r\n\t\t\tconst calc = calculate(this, this.effectState.source, target);\r\n\t\t\tthis.damage(calc * target.baseMaxhp / 16);\r\n\t\t},\r\n\t},\r\n};\r\n\r\nfunction calculate(battle: Battle, source: Pokemon, pokemon: Pokemon) {\r\n\tconst move = battle.dex.getActiveMove('tackle');\r\n\tmove.type = source.getTypes()[0];\r\n\tconst typeMod = 2 ** battle.clampIntRange(pokemon.runEffectiveness(move), -6, 6);\r\n\tif (!pokemon.runImmunity(move)) return 0;\r\n\treturn typeMod;\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,aAA6E;AAAA,EACzF,KAAK;AAAA,IACJ,SAAS;AAAA,IACT,WAAW,SAAS;AACnB,UAAI,KAAK,YAAY,QAAQ,IAAI;AAChC,aAAK,YAAY;AAAA,MAClB;AACA,YAAM,OAAO,UAAU,MAAM,KAAK,YAAY,QAAQ,OAAO;AAC7D,WAAK,OAAO,OAAO,KAAK,cAAc,QAAQ,YAAY,IAAI,CAAC,IAAI,KAAK,YAAY,KAAK;AAAA,IAC1F;AAAA,EACD;AAAA,EACA,KAAK;AAAA,IACJ,SAAS;AAAA,IACT,WAAW,SAAS;AACnB,YAAM,OAAO,UAAU,MAAM,KAAK,YAAY,QAAQ,OAAO;AAC7D,WAAK,OAAO,OAAO,QAAQ,YAAY,EAAE;AAAA,IAC1C;AAAA,EACD;AAAA,EACA,KAAK;AAAA,IACJ,SAAS;AAAA,IACT,WAAW,SAAS;AACnB,YAAM,OAAO,UAAU,MAAM,KAAK,YAAY,QAAQ,OAAO;AAC7D,WAAK,OAAO,OAAO,QAAQ,YAAY,CAAC;AAAA,IACzC;AAAA,EACD;AAAA,EACA,kBAAkB;AAAA,IACjB,SAAS;AAAA,IACT,WAAW,SAAS;AACnB,YAAM,SAAS,KAAK,YAAY;AAEhC,YAAM,aAAa,CAAC,kBAAkB,eAAe,EAAE,SAAS,KAAK,YAAY,aAAa,EAAE;AAChG,UAAI,WAAW,CAAC,OAAO,YAAY,OAAO,MAAM,KAAK,CAAC,OAAO,gBAAgB,CAAC,YAAY;AACzF,eAAO,QAAQ,UAAU,kBAAkB;AAC3C,aAAK,IAAI,QAAQ,SAAS,KAAK,YAAY,cAAc,sBAAsB,UAAU;AACzF;AAAA,MACD;AACA,YAAM,OAAO,UAAU,MAAM,QAAQ,OAAO;AAC5C,WAAK,OAAO,OAAO,QAAQ,YAAY,KAAK,YAAY,YAAY;AAAA,IACrE;AAAA,EACD;AAAA,EACA,WAAW;AAAA,IACV,SAAS;AAAA,IACT,UAAU,QAAQ;AACjB,YAAM,OAAO,UAAU,MAAM,KAAK,YAAY,QAAQ,MAAM;AAC5D,WAAK,OAAO,OAAO,OAAO,YAAY,EAAE;AAAA,IACzC;AAAA,EACD;AACD;AAEA,SAAS,UAAU,QAAgB,QAAiB,SAAkB;AACrE,QAAM,OAAO,OAAO,IAAI,cAAc,QAAQ;AAC9C,OAAK,OAAO,OAAO,SAAS,EAAE,CAAC;AAC/B,QAAM,UAAU,KAAK,OAAO,cAAc,QAAQ,iBAAiB,IAAI,GAAG,IAAI,CAAC;AAC/E,MAAI,CAAC,QAAQ,YAAY,IAAI,EAAG,QAAO;AACvC,SAAO;AACR;",
  "names": []
}
